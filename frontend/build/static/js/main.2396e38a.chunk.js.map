{"version":3,"sources":["views/components/SignUp.jsx","views/Login.jsx","views/components/Libros.jsx","views/components/Alumnos.jsx","views/components/Prestamos.jsx","views/components/Devoluciones.jsx","views/components/Reporte.jsx","views/components/NavBar.jsx","views/Home.jsx","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","form","width","submit","margin","card","backgroundColor","green","SignUp","classes","useForm","register","handleSubmit","errors","console","log","Container","maxWidth","CssBaseline","Card","className","CardContent","Typography","component","variant","onSubmit","data","e","firstName","lastName","emailSign","passwordSign","confirmPassword","swal","title","text","icon","button","axios","post","lasttName","email","password","then","Response","name","mensaje","catch","err","response","status","request","target","reset","error","noValidate","Grid","container","item","xs","TextField","autoComplete","required","fullWidth","id","inputRef","label","autoFocus","type","Button","color","Copyright","align","Link","href","Date","getFullYear","root","height","image","backgroundImage","backgroundRepeat","palette","grey","backgroundSize","backgroundPosition","avatar","secondary","main","collapse","textAlign","SignInSide","useState","coll","setcoll","sm","md","Paper","elevation","square","Avatar","localStorage","setItem","token","recordar","window","location","motivo","FormControlLabel","control","Checkbox","value","onClick","Collapse","in","Box","mt","formControl","minWidth","selectEmpty","gridGuardarLibro","datatable","inputs","marginRight","with","espaciado","inputSelect","marginLeft","cardContent","topSpace","Libros","React","idioma","setIdioma","selectedLibro","setSelectedLibro","nombreBoton","setNombreBoton","idUpdate","setIdUpdate","columns","options","headerNoWrap","customBodyRender","tablemeta","update","IconButton","handleSeleccion","_id","Icon","field","filter","sort","aria-label","handleEliminar","document","getElementById","autor","nombreLibro","useEffect","node","loadCSS","querySelector","parentNode","removeChild","cargar","a","get","event","delete","fondo","put","InputLabelProps","shrink","FormControl","InputLabel","Select","labelId","onChange","MenuItem","length","CircularProgress","selectableRows","print","onlyOneRowCanBeSelected","textLabels","body","noMatch","pagination","next","previous","rowsPerPage","displayRows","toolbar","search","selectedRows","deleteAria","download","usePaperPlaceholder","rowsPerPageOptions","sortColumnDirection","responsive","selectedAlumno","setSelectedAlumno","rut","disabled","nombre","nose","appBar","position","layout","breakpoints","up","marginBottom","padding","stepper","buttons","justifyContent","inputsDisabled","steps","Checkout","activeStep","setActiveStep","itemLibro","setItemLibro","itemAlumno","setItemAlumno","itemPrestamo","setItemPrestamo","botonLibro","setBotonLibro","libroDePedido","setLibroDePedido","alumnoDePedido","setAlumnoDePedido","selectedDateInicio","setSelectedDateInicio","selectedDateEntrega","setSelectedDateEntrega","page","per_page","paramsLibro","setParamsLibro","paramsAlumno","setParamsAlumno","columnsLibros","columnsAlumnos","handleSeleccionAlumno","cargarLibros","cargarAlumnos","cargarPrestamos","handleDateChangeInicio","date","handleDateChangeEntrega","registrarPedido","codigo","dateInicio","dateEntrega","dangerMode","willAdd","Fragment","Stepper","map","Step","key","StepLabel","step","componentWillReceiveProps","onChangePage","currentPage","onChangeRowsPerPage","numberOfRows","utils","DateFnsUtils","justify","format","KeyboardButtonProps","Error","getStepContent","onRowsDelete","dataIndex","Devoluciones","itemDevolucion","setDevolucion","columnsDevoluciones","cargarPrestamosDevo","handleSeleccionPrestamo","Reporte","prestamoLibro","setPrestamoLibro","prestamos","TabPanel","props","children","index","other","role","hidden","aria-labelledby","p","a11yProps","flexGrow","background","toolbarButtons","SimpleTabs","setValue","AppBar","Tabs","newValue","Tab","aria-controls","aria-haspopup","removeItem","style","fontSize","left","top","transform","Home","autorizado","setAutorizado","alignContent","size","App","remember","setRemember","getItem","to","path","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","interceptors","use","headers","Authorization","ReactDOM","render","StrictMode","URL","process","origin","addEventListener","fetch","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"0ZAiBMA,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,KAAM,CACJC,MAAO,OACPN,UAAWF,EAAMG,QAAQ,IAE3BM,OAAQ,CACNC,OAAQV,EAAMG,QAAQ,EAAG,EAAG,IAE9BQ,KAAM,CACJT,UAAWF,EAAMG,QAAQ,GACzBS,gBAAiBC,SAKN,SAASC,IACtB,IAAMC,EAAUjB,IADe,EAEYkB,cAAnCC,EAFuB,EAEvBA,SAAUC,EAFa,EAEbA,aAAcC,EAFD,EAECA,OAgGhC,OAFAC,QAAQC,IAAIF,GAGV,kBAACG,EAAA,EAAD,CAAWC,SAAS,MAElB,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CAAMC,UAAWX,EAAQJ,MACvB,kBAACgB,EAAA,EAAD,KACE,yBAAKD,UAAWX,EAAQd,OACtB,kBAAC2B,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,kBAGA,0BAAMC,SAAUb,GAxGH,SAACc,EAAMC,GACL,KAAnBD,EAAKE,WAAsC,KAAlBF,EAAKG,UAAsC,KAAnBH,EAAKI,WAA0C,KAAtBJ,EAAKK,cAAgD,KAAzBL,EAAKM,gBAC7GC,IAAK,CACHC,MAAO,YACPC,KAAM,mCACNC,KAAM,UACNC,OAAQ,cAGNX,EAAKK,eAAiBL,EAAKM,gBAE7BM,IACGC,KAAK,2CAA4C,CAChDX,UAAWF,EAAKE,UAChBY,UAAWd,EAAKG,SAChBY,MAAOf,EAAKI,UACZY,SAAUhB,EAAKK,eAEhBY,MACC,SAACC,GAqCX,IAAsBH,EAAMI,EApChB/B,QAAQC,IAAI6B,GAEZX,IAAK,CACHC,MAAO,mCACPC,KAAM,iCACNC,KAAM,UACNC,OAAQ,cA8BAI,EA3BGf,EAAKI,UA2BFe,EA3BYnB,EAAKE,UA4BzCU,IACCC,KAAK,wCAAwC,CAC5C,YAAeE,EACf,KAAQI,EACR,OAAU,sBACV,OAAU,qDAEXF,MACC,SAACC,GAC8B,aAA1BA,EAASlB,KAAKoB,SACfhC,QAAQC,IAAI,yBAIjBgC,OACC,SAACC,GACKA,EAAIC,SACsB,MAAxBD,EAAIC,SAASC,QACfpC,QAAQC,IAAIiC,EAAIC,SAASvB,KAAKoB,SAGrBE,EAAIG,SAEXlB,IAAK,CACHC,MAAO,aACPC,KAAM,0CACNC,KAAM,QACNC,OAAQ,iBArDZV,EAAEyB,OAAOC,WAGZN,OAAM,SAACO,GACNxC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,gCACPC,KAAM,kDACNC,KAAM,QACNC,OAAQ,iBAMdJ,IAAK,CACHC,MAAO,qBACPC,KAAM,kCACNC,KAAM,QACNC,OAAQ,iBAsDwCQ,KAAK,SAASzB,UAAWX,EAAQR,KAAMsD,YAAU,GAC7F,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAAC5D,QAAS,GACvB,kBAAC2D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACC,EAAA,EAAD,CACEC,aAAa,QACbhB,KAAK,YACLrB,QAAQ,WACRsC,UAAQ,EACRC,WAAS,EACTC,GAAG,YACHC,SAAUtD,EACVuD,MAAM,SACNC,WAAS,KAGb,kBAACX,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACC,EAAA,EAAD,CACEpC,QAAQ,WACRsC,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHE,MAAM,WACNrB,KAAK,WACLoB,SAAUtD,EACVkD,aAAa,WAGjB,kBAACL,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACC,EAAA,EAAD,CACEpC,QAAQ,WACRsC,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHE,MAAM,qBACNrB,KAAK,YACLoB,SAAUtD,EACVkD,aAAa,WAGjB,kBAACL,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACC,EAAA,EAAD,CACEpC,QAAQ,WACRsC,UAAQ,EACRC,WAAS,EACTlB,KAAK,eACLqB,MAAM,gBACND,SAAUtD,EACVyD,KAAK,WACLJ,GAAG,WACHH,aAAa,sBAGjB,kBAACL,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACb,kBAACC,EAAA,EAAD,CACEpC,QAAQ,WACRsC,UAAQ,EACRC,WAAS,EACTlB,KAAK,kBACLqB,MAAM,0BACND,SAAUtD,EACVyD,KAAK,WACLJ,GAAG,kBACHH,aAAa,uBAKnB,kBAACQ,EAAA,EAAD,CACED,KAAK,SACLL,WAAS,EACTvC,QAAQ,YACR8C,MAAM,UACNlD,UAAWX,EAAQN,QALrB,oBC9Ld,SAASoE,IACL,OACI,kBAACjD,EAAA,EAAD,CAAYE,QAAQ,QAAQ8C,MAAM,gBAAgBE,MAAM,UACnD,kBACD,kBAACC,EAAA,EAAD,CAAMH,MAAM,UAAUI,KAAK,4BAA3B,gBAEE,KACD,IAAIC,MAAOC,cACX,KAKb,IAAMpF,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCmF,KAAM,CACFC,OAAQ,SAGZC,MAAO,CACHC,gBAAiB,0CACjBC,iBAAkB,YAClB3E,gBAC2B,UAAvBZ,EAAMwF,QAAQd,KAAmB1E,EAAMwF,QAAQC,KAAK,IAAMzF,EAAMwF,QAAQC,KAAK,KACjFC,eAAgB,QAChBC,mBAAoB,UAExB1F,MAAO,CACHS,OAAQV,EAAMG,QAAQ,EAAG,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBsF,OAAQ,CACJlF,OAAQV,EAAMG,QAAQ,GACtBS,gBAAiBZ,EAAMwF,QAAQK,UAAUC,MAE7CvF,KAAM,CACFC,MAAO,OACPN,UAAWF,EAAMG,QAAQ,IAE7BM,OAAQ,CACJC,OAAQV,EAAMG,QAAQ,EAAG,EAAG,IAEhC4F,SAAU,CACN7F,UAAWF,EAAMG,QAAQ,GACzBG,WAAY,SACZwE,MAAO,SACPkB,UAAW,cAIJ,SAASC,IACpB,IAAMlF,EAAUjB,IADiB,EAEUkB,cAAnCC,EAFyB,EAEzBA,SAAUC,EAFe,EAEfA,aAAcC,EAFC,EAEDA,OAFC,EAGP+E,oBAAS,GAHF,mBAGzBC,EAHyB,KAGnBC,EAHmB,KA+EjC,OADAhF,QAAQC,IAAIF,GAER,kBAAC2C,EAAA,EAAD,CAAOC,WAAS,EAAClC,UAAU,OAAOH,UAAWX,EAAQoE,MACjD,kBAAC3D,EAAA,EAAD,MACA,kBAACsC,EAAA,EAAD,CAAME,MAAI,EAACC,IAAI,EAAOoC,GAAI,EAAGC,GAAI,EAAG5E,UAAWX,EAAQsE,QACvD,kBAACvB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoC,GAAI,EAAGC,GAAI,EAAGzE,UAAW0E,IAAOC,UAAW,EAAGC,QAAM,GACnE,yBAAK/E,UAAWX,EAAQd,OACpB,kBAACyG,EAAA,EAAD,CAAQhF,UAAWX,EAAQ6E,QACvB,kBAAC,IAAD,OAEJ,kBAAChE,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,MAAnC,YAGA,0BAAMC,SAAUb,GA/Ef,SAAAc,GACM,KAAfA,EAAKe,OAAkC,KAAlBf,EAAKgB,SAC1BT,IAAK,CACDC,MAAO,YACPC,KAAM,mCACNC,KAAM,UACNC,OAAQ,cAGZC,IACKC,KAAK,2CAA4C,CAC9CE,MAAOf,EAAKe,MACZC,SAAUhB,EAAKgB,WAElBC,MACG,SAACM,GAEgC,aAA1BA,EAASvB,KAAKoB,UACbb,IAAK,CACDC,MAAO,eACPC,KAAMc,EAASvB,KAAKoB,QACpBV,KAAM,UACNC,OAAQ,cAIZgE,aAAaC,QAAQ,mBAAmBrD,EAASvB,KAAK6E,OACjC,aAAlB7E,EAAK8E,UACJH,aAAaC,QAAQ,0BAA0B,YAGnDG,OAAOC,SAAW,YAQ7B3D,OAAM,SAACC,GACJ,GAAIA,EAAIC,SAAU,CACd,GAA4B,MAAxBD,EAAIC,SAASC,OAAgB,CAC7B,IAAIyD,EAAS3D,EAAIC,SAASvB,KAAKoB,QAC/Bb,IAAK,CACDC,MAAO,aACPC,KAAMwE,EACNvE,KAAM,QACNC,OAAQ,cAGhBvB,QAAQC,IAAIiC,EAAIC,SAASvB,KAAKoB,cACvBE,EAAIG,QAEXlB,IAAK,CACDC,MAAO,aACPC,KAAM,0CACNC,KAAM,QACNC,OAAQ,cAIZvB,QAAQC,IAAI,gBAkBwB8B,KAAK,SAASzB,UAAWX,EAAQR,KAAMsD,YAAU,GACrF,kBAACK,EAAA,EAAD,CACIpC,QAAQ,WACRpB,OAAO,SACP0D,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHE,MAAM,qBACNrB,KAAK,QACLoB,SAAUtD,EACVkD,aAAa,QACbM,WAAS,IAEb,kBAACP,EAAA,EAAD,CACIpC,QAAQ,WACRpB,OAAO,SACP0D,UAAQ,EACRC,WAAS,EACTlB,KAAK,WACLqB,MAAM,gBACNE,KAAK,WACLJ,GAAG,WACHC,SAAUtD,EACVkD,aAAa,qBAEjB,kBAAC+C,EAAA,EAAD,CACIC,QAAS,kBAACC,EAAA,EAAD,CAAUC,MAAM,WAAWzC,MAAM,UAAUzB,KAAK,WAAWoB,SAAUtD,IAC9EuD,MAAM,eAEV,kBAACG,EAAA,EAAD,CACID,KAAK,SACLL,WAAS,EACTvC,QAAQ,YACR8C,MAAM,UACNlD,UAAWX,EAAQN,QALvB,aAWI,kBAACqD,EAAA,EAAD,CAAME,MAAI,EAACtC,UAAWX,EAAQgF,UAC1B,kBAAChB,EAAA,EAAD,CAAMC,KAAK,IAAIsC,QA/H5B,WACXlG,QAAQC,IAAI8E,GACZC,GAASD,IA6H+CzE,UAAWX,EAAQgF,UAC9C,6CAIL,kBAACwB,EAAA,EAAD,CAAUC,GAAIrB,GACN,kBAACrF,EAAD,QAIhB,kBAAC2G,EAAA,EAAD,CAAKC,GAAI,GACL,kBAAC7C,EAAD,U,8KCpMtB/E,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2H,YAAa,CACXjH,OAAQV,EAAMG,QAAQ,GACtByH,SAAU,KAEZC,YAAa,CACX3H,UAAWF,EAAMG,QAAQ,IAE3BQ,KAAM,CACJT,UAAWF,EAAMG,QAAQ,GACzBG,WAAY,UAGdwH,iBAAkB,CAChBxH,WAAY,UAGdyH,UAAW,CACT7H,UAAWF,EAAMG,QAAQ,IAE3BF,MAAO,CACLS,OAAQV,EAAMG,QAAQ,EAAG,EAAG,GAC5BC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEd0H,OAAQ,CACN5H,QAAS,OACTE,WAAY,SACZ2H,YAAajI,EAAMG,QAAQ,GAC3BD,UAAWF,EAAMG,QAAQ,GACzB+H,KAAM,QAERC,UAAW,CACTzH,OAAQV,EAAMG,QAAQ,IAExBiI,YAAa,CACXlI,UAAWF,EAAMG,QAAQ,IACzBkI,WAAYrI,EAAMG,QAAQ,IAE5BmI,YAAa,CACX9H,MAAO,QAET+H,SAAU,CACRrI,UAAWF,EAAMG,QAAQ,IAE3B2F,KAAM,CACJhB,MAAO,cAII,SAAS0D,KAAU,IAAD,EACYxH,cAAnCC,EADuB,EACvBA,SAAUC,EADa,EACbA,aAAcC,EADD,EACCA,OADD,EAEP+E,mBAAS,IAFF,mBAExBlC,EAFwB,KAElB4C,EAFkB,OAGH6B,IAAMvC,SAAS,IAHZ,mBAGxBwC,EAHwB,KAGhBC,EAHgB,OAIWzC,mBAAS,MAJpB,mBAIxB0C,EAJwB,KAITC,EAJS,OAKO3C,mBAAS,iBALhB,mBAKxB4C,EALwB,KAKXC,EALW,OAMC7C,mBAAS,MANV,mBAMxB8C,EANwB,KAMdC,EANc,KAOzBlI,EAAUjB,KACVoJ,EAAU,CACd,CACE/F,KAAM,cACNgG,QAAS,CACPC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAClC,OACE,kBAACC,EAAA,EAAD,CACE1H,QAAQ,WAERJ,UAAU,WACV4F,QAAS,kBAAMmC,EAAgBzF,IAC/BY,MAAOgE,IAAkB5E,EAAK0F,IAAM,YAAc,IAElD,yBAAKhI,UAAWX,EAAQoE,MACrByD,IAAkB5E,EAAK0F,IAAM,kBAACC,GAAA,EAAD,CAAMjI,UAAU,uBAA0B,kBAACiI,GAAA,EAAD,CAAMjI,UAAU,uBASpG,CACEyB,KAAM,mBACNyG,MAAO,cACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,SACNyG,MAAO,MACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,QACNyG,MAAO,QACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAIV,CACE3G,KAAM,SACNyG,MAAO,SACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CAEEX,QAAS,CACPC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAClC,OACE,kBAACC,EAAA,EAAD,CAAYO,aAAW,SACrBzC,QAAS,kBAAM0C,EAAehG,EAAK0F,OACnC,kBAACC,GAAA,EAAD,CAAMjI,UAAU,0BAUtB+H,EAAkB,SAACzF,GACnB4E,IAAkB5E,EAAK0F,KACzBb,EAAiB,MACjBoB,SAASC,eAAe,SAAS7C,MAAQ,GACzC4C,SAASC,eAAe,eAAe7C,MAAQ,GAC/CsB,EAAU,IACVM,EAAY,MACZF,EAAe,mBAEfF,EAAiB7E,EAAK0F,KACtBO,SAASC,eAAe,SAAS7C,MAAQrD,EAAKmG,MAC9CF,SAASC,eAAe,eAAe7C,MAAQrD,EAAKoG,YACpDzB,EAAU3E,EAAK0E,QACfO,EAAYjF,EAAK0F,KACjBX,EAAe,qBAKnBN,IAAM4B,WAAU,WACd,IAAMC,EAAOC,mBACX,2DACAN,SAASO,cAAc,sBAEzB,OAAO,WACLF,EAAKG,WAAWC,YAAYJ,MAE7B,IAqFHD,qBAAU,WACRM,MACC,IAEH,IAAMA,EAAM,uCAAG,8BAAAC,EAAA,sEACUhI,IAAMiI,IAAI,oCADpB,uBACL7I,EADK,EACLA,KACR4E,EAAQ5E,GAFK,kBAGN,MAHM,2CAAH,qDAaNgI,EAAiB,SAACc,GAGtBlI,IACGmI,OAAO,yCAA2CD,GAClD7H,MAAK,SAACM,GACLnC,QAAQC,IAAIkC,GACZhB,IAAK,CACHC,MAAO,qCACPC,KAAM,gCACNC,KAAM,UACNC,OAAQ,cAEVgI,OAEDtH,OAAM,SAACO,GACNxC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,QACPC,KAAM,2BACNC,KAAM,QACNC,OAAQ,cAEVgI,QAKN,OADAvJ,QAAQC,IAAIF,GAEV,kBAAC2C,EAAA,EAAD,CAAMpC,UAAWX,EAAQiK,OACvB,kBAACvJ,EAAA,EAAD,CAAMC,UAAWX,EAAQd,OACvB,kBAAC0B,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKgD,MAAM,UAC7CgE,EADD,KAGA,0BAAM/G,SAAUb,GAvIP,SAACc,EAAMC,GACF,kBAAhB6G,EACuB,KAArB9G,EAAKoI,aAAqC,KAAfpI,EAAKmI,OAA2B,KAAXzB,EAClDnG,IAAK,CACHC,MAAO,eACPC,KAAM,sCACNC,KAAM,UACNC,OAAQ,cAGVC,IACGC,KAAK,sCAAuC,CAC3CuH,YAAapI,EAAKoI,YAClBD,MAAOnI,EAAKmI,MACZzB,OAAQA,IAETzF,MACC,SAACC,GACC9B,QAAQC,IAAI6B,GACY,MAApBA,EAASM,SACXjB,IAAK,CACHC,MAAO,oCACPC,KAAM,iCACNC,KAAM,UACNC,OAAQ,cAEVgI,IACA1I,EAAEyB,OAAOC,YAKdN,OAAM,SAACO,GACNxC,QAAQC,IAAIuC,GACkB,MAA1BA,EAAML,SAASC,OACjBjB,IAAK,CACHC,MAAO,qBACPC,KAAM,oDACNC,KAAM,QACNC,OAAQ,cAGVJ,IAAK,CACHC,MAAO,qBACPC,KAAM,sDACNC,KAAM,QACNC,OAAQ,iBAQlBC,IACCqI,IAAI,yCAA2CjC,EAAU,CACxDoB,YAAaH,SAASC,eAAe,eAAe7C,MACpD8C,MAAOF,SAASC,eAAe,SAAS7C,MACxCqB,OAAQA,IAETzF,MAAK,SAACM,GACLnC,QAAQC,IAAIkC,GACZhB,IAAK,CACHC,MAAO,sCACPC,KAAM,kBACNC,KAAM,UACNC,OAAQ,cAEVgI,OAEDtH,OAAM,SAACO,GACNxC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,QACPC,KAAM,8BACNC,KAAM,QACNC,OAAQ,cAEVgI,UAyD0CxH,KAAK,SAASU,YAAU,GAC9D,kBAACC,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAMpC,UAAWX,EAAQiH,QACvB,kBAAC9D,EAAA,EAAD,CAEEE,UAAQ,EACRC,WAAS,EACT3C,UAAWX,EAAQoH,UACnBhF,KAAK,cACLqB,MAAM,mBACND,SAAUtD,EACVqD,GAAG,cACH5D,OAAO,SACPwK,gBAAiB,CACfC,QAAQ,KAKZ,kBAACjH,EAAA,EAAD,CAEEE,UAAQ,EACRE,GAAG,QACH5C,UAAWX,EAAQoH,UACnB9D,WAAS,EACTG,MAAM,kBACNrB,KAAK,QACLoB,SAAUtD,EACVkD,aAAa,QACbzD,OAAO,SACPwK,gBAAiB,CACfC,QAAQ,KAGZ,kBAACC,EAAA,EAAD,CAAatJ,QAAQ,WAAWJ,UAAWX,EAAQ4G,aACjD,kBAAC0D,GAAA,EAAD,CAAY/G,GAAG,qCAAf,UACA,kBAACgH,EAAA,EAAD,CACEC,QAAQ,oCACRjH,GAAG,8BACH+C,MAAOqB,EACP8C,SAhFG,SAACV,GACpBnC,EAAUmC,EAAMpH,OAAO2D,QAgFP7C,MAAM,UAEN,kBAACiH,EAAA,EAAD,CAAUpE,MAAO,UAAjB,UACA,kBAACoE,EAAA,EAAD,CAAUpE,MAAO,cAAjB,iBAIN,kBAAC1C,EAAA,EAAD,CACED,KAAK,SACLL,WAAS,EACTvC,QAAQ,YACR8C,MAAM,WACNkE,OAMO,IAAhB9E,EAAK0H,OAAe,kBAACC,EAAA,EAAD,MACnB,kBAAC,IAAD,CACEtH,WAAS,EACT3C,UAAWX,EAAQgH,UACnBvF,MAAO,SACPR,KAAMgC,EACNkF,QAASA,EACTC,QAAS,CACPyC,gBAAgB,EAChBC,OAAO,EACPC,yBAAyB,EAEzBC,WAAY,CACVC,KAAM,CACJC,QAAS,wCAGXC,WAAY,CACVC,KAAM,YACNC,SAAU,qBACVC,YAAa,uBACbC,YAAa,MAGfC,QAAS,CACPC,OAAQ,8BAGVC,aAAc,CACZhK,KAAM,0BACNsI,OAAQ,WACR2B,WAAY,uBACZhK,KAAMjB,MAGVkL,UAAU,EACVT,YAAY,EACZG,YAAa,EACbO,qBAAqB,EACrBC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAAqB,OACrBjD,QAAQ,EACRkD,WAAY,cCjZxB,IAAMjN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvC2H,YAAa,CACXjH,OAAQV,EAAMG,QAAQ,GACtByH,SAAU,KAEZC,YAAa,CACX3H,UAAWF,EAAMG,QAAQ,IAE3BQ,KAAM,CACJT,UAAWF,EAAMG,QAAQ,GACzBG,WAAY,UAGdwH,iBAAkB,CAChBxH,WAAY,UAGdyH,UAAW,CACT7H,UAAWF,EAAMG,QAAQ,GACzBG,WAAY,UAEdL,MAAO,CACLS,OAAQV,EAAMG,QAAQ,EAAG,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEd0H,OAAQ,CACN5H,QAAS,OACTE,WAAY,SACZ2H,YAAajI,EAAMG,QAAQ,GAC3B+H,KAAM,QAERC,UAAW,CACTzH,OAAQV,EAAMG,QAAQ,IAExBgF,KAAM,CACJ/E,QAAS,YAIE,SAASoI,KAAU,IAAD,EACYxH,cAAnCC,EADuB,EACvBA,SAAUC,EADa,EACbA,aAAcC,EADD,EACCA,OADD,EAEP+E,mBAAS,IAFF,mBAExBlC,EAFwB,KAElB4C,EAFkB,OAGaV,mBAAS,MAHtB,mBAGxB8G,EAHwB,KAGRC,EAHQ,OAIO/G,mBAAS,oBAJhB,mBAIxB4C,EAJwB,KAIXC,EAJW,OAKC7C,mBAAS,MALV,mBAKxB8C,EALwB,KAKdC,EALc,KAMzBlI,EAAUjB,KACVoJ,EAAU,CACd,CACE/F,KAAM,cACNgG,QAAS,CACPC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAClC,OACE,kBAACC,EAAA,EAAD,CACE1H,QAAQ,WAERJ,UAAU,WACV4F,QAAS,kBAAMmC,EAAgBzF,IAC/BY,MAAOoI,IAAmBhJ,EAAK0F,IAAM,YAAc,IAEnD,yBAAKhI,UAAWX,EAAQoE,MACrB6H,IAAmBhJ,EAAK0F,IAAM,kBAACC,GAAA,EAAD,CAAMjI,UAAU,uBAA0B,kBAACiI,GAAA,EAAD,CAAMjI,UAAU,uBASrG,CACEyB,KAAM,iBACNyG,MAAO,MACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,oBACNyG,MAAO,SACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CAEEX,QAAS,CACPC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAClC,OACE,kBAACC,EAAA,EAAD,CAAYO,aAAW,SACrBzC,QAAS,kBAAM0C,EAAehG,EAAKkJ,OACnC,kBAACvD,GAAA,EAAD,CAAMjI,UAAU,0BAwF5B2I,qBAAU,WACRM,MACC,IAGHlC,IAAM4B,WAAU,WACd,IAAMC,EAAOC,mBACX,2DACAN,SAASO,cAAc,sBAEzB,OAAO,WACLF,EAAKG,WAAWC,YAAYJ,MAE7B,IAEH,IAAMK,EAAM,uCAAG,8BAAAC,EAAA,sEACUhI,IAAMiI,IAAI,qCADpB,uBACL7I,EADK,EACLA,KACR4E,EAAQ5E,GAFK,kBAGN,MAHM,2CAAH,qDAMNgI,EAAiB,SAAC1F,GACtB1B,IACGmI,OAAO,4CAA8CzG,GACrDrB,MAAK,SAACM,GACLnC,QAAQC,IAAIkC,GACZhB,IAAK,CACHC,MAAO,YACPC,KAAM,sCACNC,KAAM,UACNC,OAAQ,cAEVgI,OAEDtH,OAAM,SAACO,GACNxC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,QACPC,KAAM,2BACNC,KAAM,QACNC,OAAQ,cAEVgI,QAMAlB,EAAkB,SAACzF,GACnBgJ,IAAmBhJ,EAAK0F,KAC1BuD,EAAkB,MAClBhD,SAASC,eAAe,OAAO7C,MAAQ,GACvC4C,SAASC,eAAe,OAAOiD,UAAW,EAC1ClD,SAASC,eAAe,UAAU7C,MAAQ,GAC1C4B,EAAY,MACZF,EAAe,sBAEfkE,EAAkBjJ,EAAK0F,KACvBO,SAASC,eAAe,OAAO7C,MAAQrD,EAAKkJ,IAC5CjD,SAASC,eAAe,OAAOiD,UAAW,EAC1ClD,SAASC,eAAe,UAAU7C,MAAQrD,EAAKoJ,OAC/CnE,EAAYjF,EAAK0F,KACjBX,EAAe,sBAKnB,OADA3H,QAAQC,IAAIF,GAEV,kBAAC2C,EAAA,EAAD,KACE,kBAACrC,EAAA,EAAD,CAAMC,UAAWX,EAAQd,OACvB,kBAAC0B,EAAA,EAAD,CAAaD,UAAWX,EAAQsM,MAC9B,kBAACzL,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKgD,MAAM,UAC3CgE,EADH,KAGA,0BAAM/G,SAAUb,GAzJP,SAACc,EAAMC,GACF,qBAAhB6G,EACkB,KAAhB9G,EAAKoL,QAA8B,KAAbpL,EAAKkL,IAC7B3K,IAAK,CACHC,MAAO,eACPC,KAAM,sCACNC,KAAM,UACNC,OAAQ,cAGVC,IACGC,KAAK,uCAAwC,CAC5CuK,OAAQpL,EAAKoL,OACbF,IAAKlL,EAAKkL,MAEXjK,MACC,SAACC,GAEyB,MAApBA,EAASM,SACXjB,IAAK,CACHC,MAAO,uCACPC,KAAM,iCACNC,KAAM,UACNC,OAAQ,cAEVgI,IACA1I,EAAEyB,OAAOC,SAEXvC,QAAQC,IAAI6B,MAGfG,OAAM,SAACO,GACwB,MAA1BA,EAAML,SAASC,OACjBjB,IAAK,CACHC,MAAO,qBACPC,KAAM,qDACNC,KAAM,QACNC,OAAQ,cAGVJ,IAAK,CACHC,MAAO,qBACPC,KAAM,sDACNC,KAAM,QACNC,OAAQ,iBAOlBC,IACCqI,IAAI,0CAA4CjC,EAAU,CACzDoE,OAAQnD,SAASC,eAAe,UAAU7C,QAG3CpE,MAAK,SAACM,GACLnC,QAAQC,IAAIkC,GACZhB,IAAK,CACHC,MAAO,uCACPC,KAAM,kBACNC,KAAM,UACNC,OAAQ,cAEVgI,OAEDtH,OAAM,SAACO,GACNxC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,QACPC,KAAM,8BACNC,KAAM,QACNC,OAAQ,cAEVgI,UA+E0CxH,KAAK,SAASU,YAAU,GAC9D,kBAACC,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAMpC,UAAWX,EAAQiH,QACvB,kBAAC9D,EAAA,EAAD,CACEE,UAAQ,EACRC,WAAS,EACT3C,UAAWX,EAAQoH,UACnBhF,KAAK,MACLqB,MAAM,iBACND,SAAUtD,EACVqD,GAAG,MACHH,aAAa,kBACbzD,OAAO,SACPwK,gBAAiB,CACfC,QAAQ,KAKZ,kBAACjH,EAAA,EAAD,CACEE,UAAQ,EACRE,GAAG,SACH5C,UAAWX,EAAQoH,UACnB9D,WAAS,EACTG,MAAM,oBACNrB,KAAK,SACLoB,SAAUtD,EACVkD,aAAa,qBACbzD,OAAO,SACPwK,gBAAiB,CACfC,QAAQ,MAKd,kBAACxG,EAAA,EAAD,CACED,KAAK,SACLL,WAAS,EACTvC,QAAQ,YACR8C,MAAM,WACNkE,OAQV,kBAAChF,EAAA,EAAD,CAAMpC,UAAWX,EAAQgH,WACN,IAAhB/D,EAAK0H,OAAe,kBAAC5H,EAAA,EAAD,CAAMpC,UAAWX,EAAQoE,MAAM,kBAACwG,EAAA,EAAD,MAA/B,KACnB,kBAAC,IAAD,CACEnJ,MAAO,UACPR,KAAMgC,EACNkF,QAASA,EACTC,QAAS,CACPyC,gBAAgB,EAChBC,OAAO,EAEPE,WAAY,CACVC,KAAM,CACJC,QAAS,2CAGXC,WAAY,CACVC,KAAM,YACNC,SAAU,qBACVC,YAAa,uBACbC,YAAa,MAGfC,QAAS,CACPC,OAAQ,sCAGVC,aAAc,CACZhK,KAAM,0BACNsI,OAAQ,WACR2B,WAAY,yBAGhBC,UAAU,EACVT,YAAY,EACZG,YAAa,EACbO,qBAAqB,EACrBC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAAqB,OACrBjD,QAAQ,EACRkD,WAAY,e,iFCjVpBjN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCsN,OAAQ,CACNC,SAAU,YAEZxF,UAAW,CACT7H,UAAWF,EAAMG,QAAQ,IAE3BqN,OAAO,cACLhN,MAAO,OACP6H,WAAYrI,EAAMG,QAAQ,GAC1B8H,YAAajI,EAAMG,QAAQ,IAC1BH,EAAMyN,YAAYC,GAAG,IAAyB,EAAnB1N,EAAMG,QAAQ,IAAU,CAClDK,MAAO,OACP6H,WAAY,OACZJ,YAAa,SAGjBhI,MAAM,cACJC,UAAWF,EAAMG,QAAQ,GACzBwN,aAAc3N,EAAMG,QAAQ,GAC5ByN,QAAS5N,EAAMG,QAAQ,IACtBH,EAAMyN,YAAYC,GAAG,IAAyB,EAAnB1N,EAAMG,QAAQ,IAAU,CAClDD,UAAWF,EAAMG,QAAQ,GACzBwN,aAAc3N,EAAMG,QAAQ,GAC5ByN,QAAS5N,EAAMG,QAAQ,KAG3B0N,QAAS,CACPD,QAAS5N,EAAMG,QAAQ,EAAG,EAAG,IAE/B2N,QAAS,CACP1N,QAAS,OACT2N,eAAgB,YAElBpL,OAAQ,CACNzC,UAAWF,EAAMG,QAAQ,GACzBkI,WAAYrI,EAAMG,QAAQ,IAE5B6N,eAAgB,CACd9N,UAAWF,EAAMG,QAAQ,IAG3BgF,KAAM,CACJ,WAAY,CACVzE,OAAQV,EAAMG,QAAQ,SAOtB8N,GAAQ,CAAC,iBAAkB,kBAAmB,kBAAmB,sBAIxD,SAASC,KACtB,IAAMnN,EAAUjB,KADiB,EAEG2I,IAAMvC,SAAS,GAFlB,mBAE1BiI,EAF0B,KAEdC,EAFc,OAGClI,mBAAS,IAHV,mBAG1BmI,EAH0B,KAGfC,EAHe,OAIGpI,mBAAS,IAJZ,mBAI1BqI,EAJ0B,KAIdC,EAJc,OAKOtI,mBAAS,IALhB,mBAK1BuI,EAL0B,KAKZC,EALY,OAMGxI,oBAAS,GANZ,mBAM1ByI,EAN0B,KAMdC,EANc,OAQS1I,mBAAS,MARlB,mBAQ1B0C,EAR0B,KAQXC,EARW,OASS3C,mBAAS,MATlB,mBAS1B2I,EAT0B,KASXC,EATW,OAUW5I,mBAAS,MAVpB,mBAU1B8G,EAV0B,KAUVC,EAVU,OAWW/G,mBAAS,MAXpB,mBAW1B6I,EAX0B,KAWVC,EAXU,QAYmBvG,IAAMvC,SAAS,IAAIjB,MAZtC,qBAY1BgK,GAZ0B,MAYNC,GAZM,SAaqBzG,IAAMvC,SAAS,IAAIjB,MAbxC,qBAa1BkK,GAb0B,MAaLC,GAbK,SAcKlJ,mBAAS,CAC7CmJ,KAAM,EACNC,SAAU,KAhBqB,qBAc1BC,GAd0B,MAcbC,GAda,SAkBOtJ,mBAAS,CAC/CmJ,KAAM,EACNC,SAAU,KApBqB,qBAkB1BG,GAlB0B,MAkBZC,GAlBY,MAuB3BC,GAAgB,CACpB,CACExM,KAAM,cACNgG,QAAS,CACPC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAClC,OACE,kBAACC,EAAA,EAAD,CACE1H,QAAQ,WAERJ,UAAU,WACV4F,QAAS,kBAAMmC,GAAgBzF,IAC/BY,MAAOgE,IAAkB5E,EAAK0F,IAAM,YAAc,IAElD,yBAAKhI,UAAWX,EAAQoE,MACrByD,IAAkB5E,EAAK0F,IAAM,kBAACC,GAAA,EAAD,CAAMjI,UAAU,uBAA0B,kBAACiI,GAAA,EAAD,CAAMjI,UAAU,uBASpG,CACEyB,KAAM,mBACNyG,MAAO,cACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,SACNyG,MAAO,MACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,QACNyG,MAAO,QACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAIV,CACE3G,KAAM,SACNyG,MAAO,SACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,KAIN8F,GAAiB,CACrB,CACEzM,KAAM,cACNgG,QAAS,CACPC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAClC,OACE,kBAACC,EAAA,EAAD,CAEE9H,UAAU,WACV4F,QAAS,kBAAMuI,GAAsB7L,IACrCY,MAAOoI,IAAmBhJ,EAAK0F,IAAM,YAAc,IAEnD,yBAAKhI,UAAWX,EAAQoE,MAErB6H,IAAmBhJ,EAAK0F,IAAM,kBAACC,GAAA,EAAD,CAAMjI,UAAU,uBAA0B,kBAACiI,GAAA,EAAD,CAAMjI,UAAU,uBAQrG,CACEyB,KAAM,iBACNyG,MAAO,MACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,oBACNyG,MAAO,SACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,KAkDZO,qBAAU,WACRyF,KACAC,KACAC,OACC,IAGHvH,IAAM4B,WAAU,WACd,IAAMC,EAAOC,mBACX,2DACAN,SAASO,cAAc,sBAEzB,OAAO,WACLF,EAAKG,WAAWC,YAAYJ,MAE7B,IAEH,IAAMwF,GAAY,uCAAG,8BAAAlF,EAAA,sEACIhI,IAAMiI,IAAI,oCADd,uBACX7I,EADW,EACXA,KACRsM,EAAatM,GAFM,kBAGZ,MAHY,2CAAH,qDAMZ+N,GAAa,uCAAG,8BAAAnF,EAAA,sEACGhI,IAAMiI,IAAI,qCADb,uBACZ7I,EADY,EACZA,KACRwM,EAAcxM,GAFM,kBAGb,MAHa,2CAAH,qDAMbgO,GAAe,uCAAG,8BAAApF,EAAA,sEACChI,IAAMiI,IAAI,uCADX,uBACd7I,EADc,EACdA,KACR0M,EAAgB1M,GAFM,kBAGf,MAHe,2CAAH,qDAuBfyH,GAAkB,SAACzF,GAEnB4E,IAAkB5E,EAAK0F,KACzBoF,EAAiB,MACjBF,GAAc,GACd/F,EAAiB,QAEjBiG,EAAiB9K,EAAKoG,aACtBwE,GAAc,GACd/F,EAAiB7E,EAAK0F,OAKpBmG,GAAwB,SAAC7L,GACzBgJ,IAAmBhJ,EAAK0F,KAC1BsF,EAAkB,MAClBJ,GAAc,GACd3B,EAAkB,QAElB+B,EAAkBhL,EAAKoJ,QACvBwB,GAAc,GACd3B,EAAkBjJ,EAAK0F,OAIrBuG,GAAyB,SAACC,GACEtB,EAA5BsB,EAAOf,IAEXD,GAAsBgB,IAGlBC,GAA0B,SAACD,GAC/B9O,QAAQC,IAAI6O,EAAMjB,IACcL,EAA5BK,IAAsBiB,GAE1Bd,GAAuBc,IAInBE,GAAkB,SAACC,EAAQnD,EAAKoD,EAAYC,GAChDhO,IAAK,CACHC,MAAO,mBACPC,KAAM,+CACNC,KAAM,UACNoL,SAAS,EACT0C,YAAY,IAEXvN,MAAK,SAACwN,GACDA,EACF7N,IACGC,KAAK,yCAA0C,CAC9C,YAAeyN,EACf,aAAgBC,EAChB,MAASF,EACT,OAAUnD,IAEXjK,MACC,SAACC,GACyB,MAApBA,EAASM,SACXjB,IAAK,CACHC,MAAO,gCACPC,KAAM,uDACNC,KAAM,UACNC,OAAQ,cAGViM,GAAc,GACd/F,EAAiB,MACjBiG,EAAiB,MACjB7B,EAAkB,MAClB+B,EAAkB,MAClBE,GAAsB,IAAIjK,MAC1BmK,GAAuB,IAAInK,MAC3BmJ,EAAc,GACd4B,SAGJ3M,OAAM,SAACO,GACuB,MAA1BA,EAAML,SAASC,QACjBpC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,qBACPC,KAAM,qDACNC,KAAM,QACNC,OAAQ,eAGVJ,IAAK,CACHC,MAAO,qBACPC,KAAM,sDACNC,KAAM,QACNC,OAAQ,iBAKhBJ,IAAK,4CAyNb,OACE,kBAAC,IAAMmO,SAAP,KACE,kBAAClP,EAAA,EAAD,MACA,0BAAME,UAAWX,EAAQyM,QACvB,kBAACjH,EAAA,EAAD,CAAO7E,UAAWX,EAAQd,OACxB,kBAAC2B,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKgD,MAAM,UAA9C,uBAGA,kBAAC6L,GAAA,EAAD,CAASxC,WAAYA,EAAYzM,UAAWX,EAAQ8M,SACjDI,GAAM2C,KAAI,SAACpM,GAAD,OACT,kBAACqM,GAAA,EAAD,CAAMC,IAAKtM,GACT,kBAACuM,GAAA,EAAD,KAAYvM,QAIlB,kBAAC,IAAMkM,SAAP,KACGvC,IAAeF,GAAMvC,OACpBtK,QAAQC,IAAI,gBAEV,kBAAC,IAAMqP,SAAP,KApMd,SAAwBM,GACtB,OAAQA,GACN,KAAK,EACH,OAAQ,kBAAClN,EAAA,EAAD,SAA8B,IAArBuK,EAAU3C,OAAe,kBAACC,EAAA,EAAD,MAC1C,kBAAC,IAAD,CACEjK,UAAWX,EAAQgH,UACnBvF,MAAO,iBACPR,KAAMqM,EACNnF,QAASyG,GACTxG,QAAS,CACP8H,2BAA2B,EAC3BpF,OAAO,EACPD,gBAAgB,EAChBG,WAAY,CACVC,KAAM,CACJC,QAAS,kBAACN,EAAA,EAAD,OAGXO,WAAY,CACVC,KAAM,YACNC,SAAU,qBACVC,YAAa,uBACbC,YAAa,MAGfC,QAAS,CACPC,OAAQ,+BAKZG,UAAU,EACVN,YAAa,EACbO,qBAAqB,EACrBC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAAqB,OACrBjD,QAAQ,EACRkD,WAAY,UACZsC,KAAME,GAAYF,KAAO,EAEzB6B,aAAc,SAACC,GACb3B,GAAe,gBAAKD,GAAN,CAAmBF,KAAM8B,EAAc,MAEvDC,oBAAqB,SAACC,GACpB7B,GAAe,gBAAKD,GAAN,CAAmBF,KAAM,EAAGC,SAAU+B,UAK5D,KAAK,EACH,OAAQ,kBAACvN,EAAA,EAAD,SAA8B,IAAtByK,EAAW7C,OAAe,kBAACC,EAAA,EAAD,MAC1C,kBAAC,IAAD,CACEnJ,MAAO,UACPR,KAAMuM,EACNrF,QAAS0G,GACTzG,QAAS,CACPyC,gBAAgB,EAChBC,OAAO,EACPoF,2BAA2B,EAC3BlF,WAAY,CACVC,KAAM,CACJC,QAAS,kBAACN,EAAA,EAAD,OAGXO,WAAY,CACVC,KAAM,YACNC,SAAU,qBACVC,YAAa,uBACbC,YAAa,MAGfC,QAAS,CACPC,OAAQ,sCAGVC,aAAc,CACZhK,KAAM,0BACNsI,OAAQ,WACR2B,WAAY,yBAGhBC,UAAU,EACVT,YAAY,EACZG,YAAa,EACbO,qBAAqB,EACrBC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAAqB,OACrBjD,QAAQ,EACRkD,WAAY,UACZsC,KAAMI,GAAaJ,KAAO,EAE1B6B,aAAc,SAACC,GACbzB,GAAgB,gBAAKD,GAAN,CAAoBJ,KAAM8B,EAAc,MAEzDC,oBAAqB,SAACC,GACpB3B,GAAgB,gBAAKD,GAAN,CAAoBJ,KAAM,EAAGC,SAAU+B,UAK9D,KAAK,EACH,OACE,kBAAC,KAAD,CAAyBC,MAAOC,MAC9B,kBAACzN,EAAA,EAAD,CAAMC,WAAS,EAACyN,QAAQ,gBACtB,kBAAC,KAAD,CACE9Q,OAAO,SACP8D,MAAM,+BACNiN,OAAO,aACPpK,MAAO4H,GACPzD,SAAUyE,GACVyB,oBAAqB,CACnB,aAAc,kBAIpB,kBAAC5N,EAAA,EAAD,CAAMC,WAAS,EAACyN,QAAQ,gBACtB,kBAAC,KAAD,CACE9Q,OAAO,SACP8D,MAAM,gCACNiN,OAAO,aACPpK,MAAO8H,GACP3D,SAAU2E,GACVuB,oBAAqB,CACnB,aAAc,mBAM1B,KAAK,EACH,OACE,kBAAC5N,EAAA,EAAD,KACE,kBAACI,EAAA,EAAD,CACEpC,QAAQ,WACRJ,UAAWX,EAAQiN,eACnB5J,UAAQ,EACR+I,SAAS,OACT9I,WAAS,EACTG,MAAM,qBACN6C,MAAOwH,IAET,kBAAC3K,EAAA,EAAD,CACEpC,QAAQ,WACRJ,UAAWX,EAAQiN,eACnB5J,UAAQ,EACR+I,SAAS,OACT9I,WAAS,EACTG,MAAM,qBACN6C,MAAO0H,IAET,kBAAC7K,EAAA,EAAD,CACEpC,QAAQ,WACRJ,UAAWX,EAAQiN,eACnB5J,UAAQ,EACR+I,SAAS,OACT9I,WAAS,EACTG,MAAM,kBACN6C,MAAO4H,KAET,kBAAC/K,EAAA,EAAD,CACEpC,QAAQ,WACRJ,UAAWX,EAAQiN,eACnB5J,UAAQ,EACR+I,SAAS,OACT9I,WAAS,EACTG,MAAM,mBACN6C,MAAO8H,MAIf,QACE,MAAM,IAAIwC,MAAM,iBA0BLC,CAAezD,GAChB,yBAAKzM,UAAWX,EAAQ+M,SACN,IAAfK,GACC,kBAACxJ,EAAA,EAAD,CAAQ2C,QAvVT,WACwGsH,IAAlG,OAAlBhG,GAAyC,IAAfuF,GAAyC,OAAnBnB,GAA0C,IAAfmB,GAAqC,IAAfA,IAEtGC,EAAcD,EAAa,IAoVoBzM,UAAWX,EAAQ4B,QAAhD,SAIF,kBAACgC,EAAA,EAAD,CACE7C,QAAQ,YACR8C,MAAM,UACN0C,QAzWD,WAEoGsH,GAA7F,OAAnB5B,GAA0C,IAAfmB,IAAqC,IAAfA,GAAqC,IAAfA,GAAqC,IAAfA,GAI/E,IAAfA,GAAkBiC,GAAgBxH,EAAeoE,EAAgBiC,GAAoBE,IAEvE,IAAfhB,GAAkBC,EAAcD,EAAa,IAkW9BhB,SAAUwB,EACVjN,UAAWX,EAAQ4B,OACnBQ,KAAK,QACLmB,GAAG,SAEF6J,IAAeF,GAAMvC,OAAS,EAAI,4BAA8B,iBAOrD,IAAxB+C,EAAa/C,OAAgB,kBAACC,EAAA,EAAD,MAC/B,kBAAC,IAAD,CACEjK,UAAWX,EAAQgH,UACnBvF,MAAO,yBACPR,KAAMyM,EACNvF,QA3ciB,CAGvB,CACE/F,KAAM,iBACNyG,MAAO,MACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,oBACNyG,MAAO,SACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,mBACNyG,MAAO,cACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,kBACNyG,MAAO,cACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,mBACNyG,MAAO,eACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,KAoaJX,QAAS,CACPyC,gBAAgB,EAChBC,OAAO,EACPC,yBAAyB,EAEzBC,WAAY,CACVC,KAAM,CACJC,QAAS,0CAGXC,WAAY,CACVC,KAAM,YACNC,SAAU,qBACVC,YAAa,uBACbC,YAAa,MAGfC,QAAS,CACPC,OAAQ,8BAGVC,aAAc,CACZhK,KAAM,0BACNsI,OAAQ,WACR2B,WAAY,uBACZhK,KAAMjB,MAGVkL,UAAU,EACVT,YAAY,EACZG,YAAa,EACbO,qBAAqB,EACrBC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAAqB,OACrBjD,QAAQ,EACRkD,WAAY,UACZ8E,aArSa,SAAC/G,GACtB,IAAIxG,EAAKmK,EAAa3D,EAAM9I,KAAK,GAAG8P,WAAWpI,IAC/CtI,QAAQC,IAAIiD,GAGZ1B,IACCmI,OAAO,8CAAgDzG,GACvDrB,MAAK,SAACM,GACJnC,QAAQC,IAAIkC,GACZhB,IAAK,CACFC,MAAO,qCACPC,KAAM,gCACNC,KAAM,UACNC,OAAQ,cAEVqN,QAEH3M,OAAM,SAACO,GACNxC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,QACPC,KAAM,2BACNC,KAAM,QACNC,OAAQ,cAEVqN,cCraN,IAAMlQ,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrC+H,UAAW,CACT7H,UAAWF,EAAMG,QAAQ,QAMhB,SAAS4R,KAAe,IAAD,EACM7L,mBAAS,IADf,mBAC3B8L,EAD2B,KACXC,EADW,KAE5BlR,EAAUjB,KACVoS,EAAsB,CACxB,CACI/O,KAAM,iBACNyG,MAAO,MACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,oBACNyG,MAAO,SACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,mBACNyG,MAAO,cACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,kBACNyG,MAAO,cACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAGV,CACE3G,KAAM,mBACNyG,MAAO,eACPT,QAAS,CACPU,QAAQ,EACRC,MAAM,IAIV,CACE3G,KAAM,uBACNgG,QAAS,CACPC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAClC,OACE,kBAAC5E,EAAA,EAAD,CACE7C,QAAQ,YACRwF,QAAS,kBAuBzB,SAAiCtD,GAE7BzB,IAAK,CACDC,MAAO,uBACPC,KAAM,sCAAwCuB,EAAKoG,YAAY,4BAC/D1H,KAAM,UACNoL,SAAS,EACT0C,YAAY,IAEXvN,MAAK,SAACwN,GACDA,GACF7N,IACGqI,IAAI,4CAA8CjH,EAAK0F,IAAK,CAC3D,iBAAoB,IAAIzE,OAEzBhC,MACC,SAACC,GACyB,MAApBA,EAASM,SACXjB,IAAK,CACHC,MAAO,gCACPC,KAAM,wCACNC,KAAM,UACNC,OAAQ,cAEVwP,QAGJ9O,OAAM,SAACO,GACuB,MAA1BA,EAAML,SAASC,QACjBpC,QAAQC,IAAIuC,GACZrB,IAAK,CACHC,MAAO,qBACPC,KAAM,kEACNC,KAAM,QACNC,OAAQ,eAGVJ,IAAK,CACHC,MAAO,qBACPC,KAAM,sDACNC,KAAM,QACNC,OAAQ,oBAhEGyP,CAAwBpO,IACvCY,MAAM,WAHR,sBAadyF,qBAAU,WACN8H,MACD,IAGH,IAAMA,EAAmB,uCAAG,8BAAAvH,EAAA,sEACDhI,IAAMiI,IAAI,2CADT,uBAChB7I,EADgB,EAChBA,KACRiQ,EAAcjQ,GAFU,kBAGjB,MAHiB,2CAAH,qDA4DzB,OAAO,kBAAC8B,EAAA,EAAD,SAAmC,IAA1BkO,EAAetG,OAAe,kBAACC,EAAA,EAAD,MAC1C,kBAAC,IAAD,CACEjK,UAAWX,EAAQgH,UACnBvF,MAAO,8CACPR,KAAMgQ,EACN9I,QAASgJ,EACT/I,QAAS,CACPyC,gBAAgB,EAChBC,OAAO,EAGPE,WAAY,CACVC,KAAM,CACJC,QAAS,2CAGXC,WAAY,CACVC,KAAM,YACNC,SAAU,qBACVC,YAAa,uBACbC,YAAa,MAGfC,QAAS,CACPC,OAAQ,8BAGVC,aAAc,CACZhK,KAAM,0BACNsI,OAAQ,WACR2B,WAAY,uBACZhK,KAAMjB,MAGVkL,UAAU,EACVT,YAAY,EACZG,YAAa,EACbO,qBAAqB,EACrBC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAAqB,OACrBjD,QAAQ,EACRkD,WAAY,aAzCb,KCtIX,IAAMjN,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCsN,OAAQ,CACJC,SAAU,YAEdxF,UAAW,CACP7H,UAAWF,EAAMG,QAAQ,IAE7BqN,OAAO,cACHhN,MAAO,OACP6H,WAAYrI,EAAMG,QAAQ,GAC1B8H,YAAajI,EAAMG,QAAQ,IAC1BH,EAAMyN,YAAYC,GAAG,IAAyB,EAAnB1N,EAAMG,QAAQ,IAAU,CAChDK,MAAO,OACP6H,WAAY,OACZJ,YAAa,SAGrBhI,MAAM,cACFC,UAAWF,EAAMG,QAAQ,GACzBwN,aAAc3N,EAAMG,QAAQ,GAC5ByN,QAAS5N,EAAMG,QAAQ,IACtBH,EAAMyN,YAAYC,GAAG,IAAyB,EAAnB1N,EAAMG,QAAQ,IAAU,CAChDD,UAAWF,EAAMG,QAAQ,GACzBwN,aAAc3N,EAAMG,QAAQ,GAC5ByN,QAAS5N,EAAMG,QAAQ,KAG/B0N,QAAS,CACLD,QAAS5N,EAAMG,QAAQ,EAAG,EAAG,IAEjC2N,QAAS,CACL1N,QAAS,OACT2N,eAAgB,YAEpBpL,OAAQ,CACJzC,UAAWF,EAAMG,QAAQ,GACzBkI,WAAYrI,EAAMG,QAAQ,IAE9B6N,eAAgB,CACZ9N,UAAWF,EAAMG,QAAQ,IAG7BgF,KAAM,CACF,WAAY,CACRzE,OAAQV,EAAMG,QAAQ,KAG9BoI,SAAU,CACNrI,UAAWF,EAAMG,QAAQ,QAMlB,SAASkS,KACpB,IAAMtR,EAAUjB,KADc,EAEIoG,mBAAS,IAFb,mBAEvBmI,EAFuB,KAEZC,EAFY,OAGYpI,mBAAS,MAHrB,mBAGvB0C,EAHuB,KAGRC,EAHQ,OAIYJ,IAAMvC,SAAS,MAJ3B,mBAIvBoM,EAJuB,KAIRC,EAJQ,OAKQrM,mBAAS,CAC3CmJ,KAAM,EACNC,SAAU,KAPgB,mBAKvBC,EALuB,KAKVC,EALU,KASxBG,EAAgB,CAClB,CACIxM,KAAM,cACNgG,QAAS,CACLC,cAAc,EACdC,iBAAkB,SAACrF,EAAMsF,EAAWC,GAChC,OACI,kBAACC,EAAA,EAAD,CACI1H,QAAQ,WAERJ,UAAU,WACV4F,QAAS,kBAAMmC,EAAgBzF,IAC/BY,MAAOgE,IAAkB5E,EAAK0F,IAAM,YAAc,IAElD,yBAAKhI,UAAWX,EAAQoE,MACnByD,IAAkB5E,EAAK0F,IAAM,kBAACC,GAAA,EAAD,CAAMjI,UAAU,uBAA0B,kBAACiI,GAAA,EAAD,CAAMjI,UAAU,uBAShH,CACIyB,KAAM,mBACNyG,MAAO,cACPT,QAAS,CACLU,QAAQ,EACRC,MAAM,IAGd,CACI3G,KAAM,SACNyG,MAAO,MACPT,QAAS,CACLU,QAAQ,EACRC,MAAM,IAGd,CACI3G,KAAM,QACNyG,MAAO,QACPT,QAAS,CACLU,QAAQ,EACRC,MAAM,IAId,CACI3G,KAAM,SACNyG,MAAO,SACPT,QAAS,CACLU,QAAQ,EACRC,MAAM,KAMlBO,qBAAU,WACNyF,MACD,IAEHrH,IAAM4B,WAAU,WACZ,IAAMC,EAAOC,mBACT,2DACAN,SAASO,cAAc,sBAE3B,OAAO,WACHF,EAAKG,WAAWC,YAAYJ,MAEjC,IAGH,IAAMwF,EAAY,uCAAG,8BAAAlF,EAAA,sEACMhI,IAAMiI,IAAI,oCADhB,uBACT7I,EADS,EACTA,KACRsM,EAAatM,GAFI,kBAIV,MAJU,2CAAH,qDAOZyH,EAAkB,SAACzF,GACrB,GAAI4E,IAAkB5E,EAAK0F,IACvBb,EAAiB,MACjB0J,EAAiB,UACd,CACH1J,EAAiB7E,EAAK0F,KAEtB,IAAIpF,EAAKN,EAAK0F,IACd9G,IACKC,KAAK,8CAA+C,CAAEyB,GAAIA,IAC1DrB,MAAK,SAACC,GACqB,MAApBA,EAASM,SACTpC,QAAQC,IAAI6B,EAASlB,KAAKwQ,WAC1BD,EAAiBrP,EAASlB,KAAKwQ,eAGtCnP,OAAM,SAACC,GACJlC,QAAQC,IAAIiC,GACZiP,EAAiB,WAOjC,OACI,kBAACzO,EAAA,EAAD,KAC0B,IAArBuK,EAAU3C,OAAe,kBAACC,EAAA,EAAD,MAC1B,kBAAC,IAAD,CACIjK,UAAWX,EAAQgH,UACnBvF,MAAO,iBACPR,KAAMqM,EACNnF,QAASyG,EACTxG,QAAS,CACL8H,2BAA2B,EAC3BpF,OAAO,EACPD,gBAAgB,EAChBG,WAAY,CACRC,KAAM,CACFC,QAAS,kBAACN,EAAA,EAAD,OAGbO,WAAY,CACRC,KAAM,YACNC,SAAU,qBACVC,YAAa,uBACbC,YAAa,MAGjBC,QAAS,CACLC,OAAQ,+BAKhBG,UAAU,EACVN,YAAa,EACbO,qBAAqB,EACrBC,mBAAoB,CAAC,EAAG,GAAI,IAC5BC,oBAAqB,OACrBjD,QAAQ,EACRkD,WAAY,UACZsC,KAAME,EAAYF,KAAO,EAEzB6B,aAAc,SAACC,GACX3B,EAAe,gBAAKD,EAAN,CAAmBF,KAAM8B,EAAc,MAEzDC,oBAAqB,SAACC,GAClB7B,EAAe,gBAAKD,EAAN,CAAmBF,KAAM,EAAGC,SAAU+B,SAM5C,QAAlBiB,EAAyB,GAC3B,kBAAC7Q,EAAA,EAAD,CAAMC,UAAWX,EAAQd,OACrB,kBAAC0B,EAAA,EAAD,CAAaD,UAAWX,EAAQuH,aAC5B,kBAAC1G,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKgD,MAAM,UAA9C,qBAGA,kBAAClD,EAAA,EAAD,CAAYC,UAAU,KAAKC,QAAQ,KAAKJ,UAAWX,EAAQwH,SAAUzD,MAAM,QAA3E,kCACsD,OAAlBwN,EAAyB,sBAAwBA,MC/NzG,SAASG,GAASC,GAAQ,IAChBC,EAAqCD,EAArCC,SAAUtL,EAA2BqL,EAA3BrL,MAAOuL,EAAoBF,EAApBE,MAAUC,EADZ,YACsBH,EADtB,8BAGvB,OACE,uCACEI,KAAK,WACLC,OAAQ1L,IAAUuL,EAClBtO,GAAE,0BAAqBsO,GACvBI,kBAAA,qBAA+BJ,IAC3BC,GAEHxL,IAAUuL,GACT,kBAACnL,EAAA,EAAD,CAAKwL,EAAG,GACN,kBAACrR,EAAA,EAAD,KAAa+Q,KAavB,SAASO,GAAUN,GACjB,MAAO,CACLtO,GAAG,cAAD,OAAgBsO,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIxC,IAAM9S,GAAYC,aAAW,SAACC,GAAD,MAAY,CACvCmF,KAAM,CACJgO,SAAU,EACVvS,gBAAiBZ,EAAMwF,QAAQ4N,WAAWnT,OAE5CoT,eAAgB,CACdhL,WAAY,YAID,SAASiL,KACtB,IAAMvS,EAAUjB,KADmB,EAET2I,IAAMvC,SAAS,GAFN,mBAE5BmB,EAF4B,KAErBkM,EAFqB,KAmBnC,OACE,yBAAK7R,UAAWX,EAAQoE,MACtB,kBAACqO,EAAA,EAAD,CAAQjG,SAAS,UACf,kBAACkG,EAAA,EAAD,CAAMpM,MAAOA,EAAOmE,SAfL,SAACV,EAAO4I,GAC3BH,EAASG,IAcuC3J,aAAW,uBACrD,kBAAC4J,EAAA,EAAD,eAAKnP,MAAM,UAAa0O,GAAU,KAClC,kBAACS,EAAA,EAAD,eAAKnP,MAAM,WAAc0O,GAAU,KACnC,kBAACS,EAAA,EAAD,eAAKnP,MAAM,aAAgB0O,GAAU,KACrC,kBAACS,EAAA,EAAD,eAAKnP,MAAM,gBAAmB0O,GAAU,KACxC,kBAACS,EAAA,EAAD,eAAKnP,MAAM,WAAc0O,GAAU,KACnC,yBAAKxR,UAAWX,EAAQsS,gBACpB,kBAAC7J,EAAA,EAAD,CACIO,aAAW,0BACX6J,gBAAc,cACdC,gBAAc,OACdjP,MAAM,UACN0C,QAvBD,WACbX,aAAamN,WAAW,oBACxBnN,aAAamN,WAAW,2BAExB/M,OAAOC,SAAW,WAqBJ,kBAAC,IAAD,MACA,uBAAG+M,MAAO,CAAEC,SAAU,SAAtB,qBAKZ,kBAACvB,GAAD,CAAUpL,MAAOA,EAAOuL,MAAO,GAC7B,kBAACpK,GAAD,OAEF,kBAACiK,GAAD,CAAUpL,MAAOA,EAAOuL,MAAO,GAC7B,kBAAC,GAAD,OAEF,kBAACH,GAAD,CAAUpL,MAAOA,EAAOuL,MAAO,GAC7B,kBAAC,GAAD,OAEF,kBAACH,GAAD,CAAUpL,MAAOA,EAAOuL,MAAO,GAC7B,kBAACb,GAAD,OAEF,kBAACU,GAAD,CAAUpL,MAAOA,EAAOuL,MAAO,GAC7B,kBAACP,GAAD,QC5GR,IAAMvS,GAAYC,aAAW,SAACC,GAAD,MAAY,CACrCmF,KAAM,CACJoI,SAAU,WACV0G,KAAM,MACNC,IAAK,MACLC,UAAW,6BAMF,SAASC,KACpB,IAAMrT,EAAUjB,KADW,EAESoG,oBAAS,GAFlB,mBAEpBmO,EAFoB,KAERC,EAFQ,KAqC3B,OAjCAjK,qBAAU,WAONzH,IACKC,KAAK,sCACLI,MACG,SAACM,GAC2B,MAApBA,EAASC,QACT8Q,GAAc,MAMzBjR,OAAM,SAACC,GACAA,EAAIC,SACwB,MAAxBD,EAAIC,SAASC,SACb8Q,GAAc,GACdlT,QAAQC,IAAIiC,EAAIC,SAASvB,OAGtBsB,EAAIG,aAvBxB,IA+BC4Q,EAEI,kBAACvQ,EAAA,EAAD,CAAMpC,UAAWX,EAAQiK,OACrB,kBAAC,GAAD,OAKR,yBAAKtJ,UAAWX,EAAQoE,MACxB,kBAACwG,EAAA,EAAD,CAAkB4I,aAAa,SAASC,KAAK,W,cCEtCC,OA5Df,WAAgB,IAAD,EAEuBvO,oBAAS,GAFhC,mBAENmO,EAFM,KAEMC,EAFN,OAGmBpO,oBAAS,GAH5B,mBAGNwO,EAHM,KAGIC,EAHJ,KA4CX,OAvCFtK,qBAAU,WAONzH,IACKC,KAAK,sCACLI,MACG,SAACM,GACGnC,QAAQC,IAAIkC,EAASvB,MACE,MAApBuB,EAASC,SACV8Q,GAAc,GAGE,aADD3N,aAAaiO,QAAQ,4BAEhCD,GAAY,OAOzBtR,OAAM,SAACC,GACDA,EAAIC,SACwB,MAAxBD,EAAIC,SAASC,SACZ8Q,GAAc,GACdlT,QAAQC,IAAIiC,EAAIC,SAASvB,OAGxBsB,EAAIG,aA7BtB,IAsCC,kBAAC,KAAD,KACKiR,EAAW,kBAAC,IAAD,CAAUG,GAAG,UAAW,GACtC,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOC,KAAK,SACPT,EAAa,kBAACD,GAAD,MAAU,kBAAC,EAAD,OAE5B,kBAAC,IAAD,CAAOU,KAAK,KACR,kBAAC,EAAD,UC9CVC,GAAcC,QACW,cAA7BjO,OAAOC,SAASiO,UAEe,UAA7BlO,OAAOC,SAASiO,UAEhBlO,OAAOC,SAASiO,SAASC,MACvB,2DAsCN,SAASC,GAAgBC,EAAOC,GAC9BC,UAAUC,cACPtU,SAASmU,GACTnS,MAAK,SAAAuS,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBG,QACfP,UAAUC,cAAcO,YAI1B1U,QAAQC,IACN,iHAKEgU,GAAUA,EAAOU,UACnBV,EAAOU,SAASP,KAMlBpU,QAAQC,IAAI,sCAGRgU,GAAUA,EAAOW,WACnBX,EAAOW,UAAUR,WAO5BnS,OAAM,SAAAO,GACLxC,QAAQwC,MAAM,4CAA6CA,MCzFjEhB,IAAMqT,aAAaxS,QAAQyS,KAAI,SAAAb,GAC7B,IAAMxO,EAAQF,aAAaiO,QAAQ,oBAMnC,OAJES,EAAOc,QAAQC,cADN,MAARvP,EAC8B,UAAYA,EAEZ,KAE1BwO,KAGTgB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACI,kBAAC,GAAD,OAEJtM,SAASC,eAAe,SDCnB,SAAkBmL,GACvB,GAA6C,kBAAmBC,UAAW,CAGzE,GADkB,IAAIkB,IAAIC,GAAwB1P,OAAOC,SAAShC,MACpD0R,SAAW3P,OAAOC,SAAS0P,OAIvC,OAGF3P,OAAO4P,iBAAiB,QAAQ,WAC9B,IAAMvB,EAAK,UAAMqB,GAAN,sBAEP1B,KAgEV,SAAiCK,EAAOC,GAEtCuB,MAAMxB,EAAO,CACXe,QAAS,CAAE,iBAAkB,YAE5BlT,MAAK,SAAAM,GAEJ,IAAMsT,EAActT,EAAS4S,QAAQtL,IAAI,gBAEnB,MAApBtH,EAASC,QACO,MAAfqT,IAA8D,IAAvCA,EAAYC,QAAQ,cAG5CxB,UAAUC,cAAcwB,MAAM9T,MAAK,SAAAuS,GACjCA,EAAawB,aAAa/T,MAAK,WAC7B8D,OAAOC,SAASiQ,eAKpB9B,GAAgBC,EAAOC,MAG1BhS,OAAM,WACLjC,QAAQC,IACN,oEAvFA6V,CAAwB9B,EAAOC,GAI/BC,UAAUC,cAAcwB,MAAM9T,MAAK,WACjC7B,QAAQC,IACN,iHAMJ8T,GAAgBC,EAAOC,OCzB/BE,K","file":"static/js/main.2396e38a.chunk.js","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\n\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios'\r\nimport swal from 'sweetalert';\r\nimport { green } from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(5),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(5),\r\n    backgroundColor: green\r\n\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const classes = useStyles();\r\n  const { register, handleSubmit, errors } = useForm();\r\n\r\n  const onSubmitSignUp = (data, e) => {\r\n    if (data.firstName === '' || data.lastName === '' || data.emailSign === '' || data.passwordSign === '' || data.confirmPassword === '') {\r\n      swal({\r\n        title: \"Cuidado !\",\r\n        text: \"Debes llenar los espacios vacios\",\r\n        icon: \"warning\",\r\n        button: \"Continuar\",\r\n      });\r\n    } else {\r\n      if (data.passwordSign === data.confirmPassword) {\r\n\r\n        axios\r\n          .post('http://localhost:5000/api/guardarUsuario', {\r\n            firstName: data.firstName,\r\n            lasttName: data.lastName,\r\n            email: data.emailSign,\r\n            password: data.passwordSign\r\n          })\r\n          .then(\r\n            (Response) => {\r\n              console.log(Response)\r\n              \r\n              swal({\r\n                title: \"Dato guardado satisfactoriamente\",\r\n                text: \"Registrado en la base de datos\",\r\n                icon: \"success\",\r\n                button: \"Continuar\",\r\n              });\r\n              //enviar correo\r\n              enviarCorreo(data.emailSign,data.firstName)\r\n              //resetear valores en form\r\n              e.target.reset()\r\n            }\r\n          )\r\n          .catch((error) => {\r\n            console.log(error)\r\n            swal({\r\n              title: \"No se pudo guardar el archivo\",\r\n              text: \"Este correo ya se encuentra en la base de datos\",\r\n              icon: \"error\",\r\n              button: \"Continuar\",\r\n            });\r\n          })\r\n\r\n\r\n      } else {\r\n        swal({\r\n          title: \"Datos no guardados\",\r\n          text: \"Las contraseñas no coinciden\",\r\n          icon: \"error\",\r\n          button: \"Continuar\",\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  function enviarCorreo(email,name,) {\r\n      axios\r\n      .post('http://localhost:5000/api/emailEnviar',{\r\n        \"emailEnviar\": email,\r\n        \"name\": name,\r\n        \"asunto\": \"Resgistro Kendo App\",\r\n        \"cuerpo\": \"Bienvenido a nuestra app gracias por registrarte\"\r\n      })\r\n      .then(\r\n        (Response) =>{\r\n          if(Response.data.mensaje === 'correcto'){\r\n            console.log(\"Esto esta correcto\")\r\n          }\r\n        }\r\n      )\r\n      .catch(\r\n        (err) =>{\r\n          if (err.response) {\r\n            if (err.response.status === 401) {\r\n              console.log(err.response.data.mensaje)\r\n            }\r\n              \r\n            } else if (err.request) {\r\n                // client never received a response, or request never left\r\n                swal({\r\n                  title: \"Algo fallo\",\r\n                  text: \"No existe conexion con la base de datos\",\r\n                  icon: \"error\",\r\n                  button: \"Continuar\",\r\n              });\r\n            } else {\r\n                // anything else\r\n            }\r\n        }\r\n      )\r\n  }\r\n  console.log(errors)\r\n\r\n  return (\r\n    <Container maxWidth=\"xs\">\r\n\r\n      <CssBaseline />\r\n      <Card className={classes.card}>\r\n        <CardContent>\r\n          <div className={classes.paper}>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              Registro nuevo\r\n            </Typography>\r\n            <form onSubmit={handleSubmit(onSubmitSignUp)} name=\"signUp\" className={classes.form} noValidate>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} >\r\n                  <TextField\r\n                    autoComplete=\"fname\"\r\n                    name=\"firstName\"\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"firstName\"\r\n                    inputRef={register}\r\n                    label=\"Nombre\"\r\n                    autoFocus\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} >\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"lastName\"\r\n                    label=\"Apellido\"\r\n                    name=\"lastName\"\r\n                    inputRef={register}\r\n                    autoComplete=\"lname\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    label=\"Correo electronico\"\r\n                    name=\"emailSign\"\r\n                    inputRef={register}\r\n                    autoComplete=\"email\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"passwordSign\"\r\n                    label=\"Contraseña\"\r\n                    inputRef={register}\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"confirmPassword\"\r\n                    label=\"Confirmar contraseña\"\r\n                    inputRef={register}\r\n                    type=\"password\"\r\n                    id=\"confirmPassword\"\r\n                    autoComplete=\"current-password\"\r\n                  />\r\n                </Grid>\r\n\r\n              </Grid>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Registrarse\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n\r\n    </Container>\r\n  );\r\n}","import React, { useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios'\r\n\r\n\r\nimport swal from 'sweetalert';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport SignUp from './components/SignUp';\r\n\r\n\r\nfunction Copyright() {\r\n    return (\r\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n            {'Copyright © '}\r\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n                Your Website\r\n      </Link>{' '}\r\n            {new Date().getFullYear()}\r\n            {'.'}\r\n        </Typography>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n\r\n    },\r\n    image: {\r\n        backgroundImage: 'url(https://source.unsplash.com/random)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n    collapse: {\r\n        marginTop: theme.spacing(4),\r\n        alignItems: 'center',  \r\n        align: 'center',  \r\n        textAlign: 'center'\r\n    },\r\n}));\r\n\r\nexport default function SignInSide() {\r\n    const classes = useStyles();\r\n    const { register, handleSubmit, errors } = useForm();\r\n    const [ coll, setcoll ] = useState(false)\r\n  \r\n    const cambio = () =>{\r\n        console.log(coll)\r\n        setcoll(!coll)\r\n    }\r\n\r\n  \r\n\r\n    const onSubmit = data => {\r\n        if (data.email === \"\" || data.password === \"\") {\r\n            swal({\r\n                title: \"Cuidado !\",\r\n                text: \"Debes llenar los espacios vacios\",\r\n                icon: \"warning\",\r\n                button: \"Continuar\",\r\n            });\r\n        }else{\r\n            axios\r\n                .post(\"http://localhost:5000/api/validarUsuario\", {\r\n                    email: data.email,\r\n                    password: data.password\r\n                })\r\n                .then(\r\n                    (response) => {\r\n\r\n                        if(response.data.mensaje === 'correcto'){\r\n                            swal({\r\n                                title: \"Estas dentro\",\r\n                                text: response.data.mensaje,\r\n                                icon: \"success\",\r\n                                button: \"Continuar\",\r\n                            });\r\n                            \r\n\r\n                            localStorage.setItem('TOKEN_APP_TALLER',response.data.token)\r\n                            if(data.recordar === \"remember\"){\r\n                                localStorage.setItem('RECORDAR_APP_TALLER_UBB',\"remember\")\r\n                            }\r\n\r\n                            window.location = \"/home\"\r\n                            \r\n                        }\r\n                        \r\n                        \r\n                        \r\n                    }\r\n                )\r\n                .catch((err) => {\r\n                    if (err.response) {\r\n                        if (err.response.status === 401) {\r\n                            let motivo = err.response.data.mensaje;\r\n                            swal({\r\n                                title: \"Algo fallo\",\r\n                                text: motivo,\r\n                                icon: \"error\",\r\n                                button: \"Continuar\",\r\n                            });\r\n                        }\r\n                        console.log(err.response.data.mensaje)\r\n                    } else if (err.request) {\r\n                        // client never received a response, or request never left\r\n                        swal({\r\n                            title: \"Algo fallo\",\r\n                            text: \"No existe conexion con la base de datos\",\r\n                            icon: \"error\",\r\n                            button: \"Continuar\",\r\n                        });\r\n                    } else {\r\n                        // anything else\r\n                        console.log(\"hola 2\")\r\n                    }\r\n                });\r\n            }\r\n    }\r\n    console.log(errors)\r\n    return (\r\n        <Grid  container component=\"main\" className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n                <div className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Ingresar\r\n          </Typography>\r\n                    <form onSubmit={handleSubmit(onSubmit)} name='SignIn' className={classes.form} noValidate>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Correo electronico\"\r\n                            name=\"email\"\r\n                            inputRef={register}\r\n                            autoComplete=\"email\"\r\n                            autoFocus\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Contraseña\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            inputRef={register}\r\n                            autoComplete=\"current-password\"\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox value=\"remember\" color=\"primary\" name=\"recordar\" inputRef={register}/>}\r\n                            label=\"Recuerdame\"\r\n                        />\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.submit}\r\n                        >\r\n                            Ingresar\r\n                        </Button>\r\n                        </form>\r\n                           \r\n                            <Grid item className={classes.collapse} >\r\n                                <Link href=\"#\" onClick={cambio} className={classes.collapse}>\r\n                                    {\"¿No tienes una cuenta? ¡Registrate!\"}\r\n                                    \r\n                                    \r\n                                </Link>\r\n                                <Collapse in={coll} >\r\n                                        <SignUp />\r\n                                    </Collapse>\r\n                            </Grid>\r\n                        \r\n                        <Box mt={5}>\r\n                            <Copyright />\r\n                        </Box>\r\n                    \r\n                </div>\r\n            </Grid>\r\n            \r\n        </Grid>\r\n        \r\n    );\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios'\r\nimport MaterialDatatable from \"material-datatable\"\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport swal from 'sweetalert';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { loadCSS } from 'fg-loadcss';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 220,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(5),\r\n    alignItems: 'center',\r\n\r\n  },\r\n  gridGuardarLibro: {\r\n    alignItems: 'center'\r\n\r\n  },\r\n  datatable: {\r\n    marginTop: theme.spacing(6),\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(1, 1, 3 ),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  inputs: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginRight: theme.spacing(4),\r\n    marginTop: theme.spacing(5),\r\n    with: '100%'\r\n  },\r\n  espaciado: {\r\n    margin: theme.spacing(2)\r\n  },\r\n  inputSelect: {\r\n    marginTop: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(4)\r\n  },\r\n  cardContent: {\r\n    width: '100%',\r\n  },\r\n  topSpace: {\r\n    marginTop: theme.spacing(4),\r\n  },\r\n  main: {\r\n    align: \"center\"\r\n  },\r\n}));\r\n\r\nexport default function Libros() {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [item, setItem] = useState([])\r\n  const [idioma, setIdioma] = React.useState('');\r\n  const [selectedLibro, setSelectedLibro] = useState(null)\r\n  const [nombreBoton, setNombreBoton] = useState('Guardar libro')\r\n  const [idUpdate, setIdUpdate] = useState(null)\r\n  const classes = useStyles();\r\n  const columns = [\r\n    {\r\n      name: \"Seleccionar\",\r\n      options: {\r\n        headerNoWrap: true,\r\n        customBodyRender: (item, tablemeta, update) => {\r\n          return (\r\n            <IconButton\r\n              variant='outlined'\r\n\r\n              className=\"btnblock\"\r\n              onClick={() => handleSeleccion(item)}\r\n              color={selectedLibro === item._id ? \"secondary\" : \"\"}\r\n            >\r\n              <div className={classes.root}>\r\n                {selectedLibro === item._id ? <Icon className=\"fa fa-check-circle\" /> : <Icon className=\"far fa-circle\" />}\r\n\r\n\r\n              </div>\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    },\r\n    {\r\n      name: \"Titulo del libro\",\r\n      field: \"nombreLibro\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Codigo\",\r\n      field: \"_id\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Autor\",\r\n      field: \"autor\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      }\r\n    },\r\n\r\n    {\r\n      name: \"idioma\",\r\n      field: \"idioma\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      }\r\n    },\r\n    {\r\n\r\n      options: {\r\n        headerNoWrap: true,\r\n        customBodyRender: (item, tablemeta, update) => {\r\n          return (\r\n            <IconButton aria-label=\"delete\"\r\n              onClick={() => handleEliminar(item._id)}>\r\n              <Icon className=\"far fa-trash-alt\" />\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    },\r\n\r\n  ]\r\n\r\n\r\n  const handleSeleccion = (item) => {\r\n    if (selectedLibro === item._id) {\r\n      setSelectedLibro(null)\r\n      document.getElementById('autor').value = \"\"\r\n      document.getElementById('nombreLibro').value = \"\"\r\n      setIdioma('')\r\n      setIdUpdate(null)\r\n      setNombreBoton('Guardar libro')\r\n    } else {\r\n      setSelectedLibro(item._id);\r\n      document.getElementById('autor').value = item.autor\r\n      document.getElementById('nombreLibro').value = item.nombreLibro\r\n      setIdioma(item.idioma)\r\n      setIdUpdate(item._id)\r\n      setNombreBoton('Modificar libro')\r\n    }\r\n  }\r\n\r\n\r\n  React.useEffect(() => {\r\n    const node = loadCSS(\r\n      'https://use.fontawesome.com/releases/v5.12.0/css/all.css',\r\n      document.querySelector('#font-awesome-css'),\r\n    );\r\n    return () => {\r\n      node.parentNode.removeChild(node);\r\n    };\r\n  }, []);\r\n\r\n  const onSubmit = (data, e) => {\r\n    if (nombreBoton === 'Guardar libro') {\r\n      if (data.nombreLibro === '' || data.autor === '' || idioma === '') {\r\n        swal({\r\n          title: \"Datos vacios\",\r\n          text: \"Falta completar alguno de los datos\",\r\n          icon: \"warning\",\r\n          button: \"Continuar\",\r\n        });\r\n      } else {\r\n        axios\r\n          .post('http://localhost:5000/api/librosave', {\r\n            nombreLibro: data.nombreLibro,\r\n            autor: data.autor,\r\n            idioma: idioma\r\n          })\r\n          .then(\r\n            (Response) => {\r\n              console.log(Response)\r\n              if (Response.status === 200) {\r\n                swal({\r\n                  title: \"Libro guardado satisfactoriamente\",\r\n                  text: \"Registrado en la base de datos\",\r\n                  icon: \"success\",\r\n                  button: \"Continuar\",\r\n                });\r\n                cargar()\r\n                e.target.reset()\r\n              }\r\n\r\n            }\r\n          )\r\n          .catch((error) => {\r\n            console.log(error)\r\n            if (error.response.status === 401) {\r\n              swal({\r\n                title: \"Error al registrar\",\r\n                text: \"Este libro ya se encuentra en la base de la datos\",\r\n                icon: \"error\",\r\n                button: \"Continuar\",\r\n              });\r\n            } else {\r\n              swal({\r\n                title: \"Error al registrar\",\r\n                text: \"Hubo un problema con la conexion a la base de datos\",\r\n                icon: \"error\",\r\n                button: \"Continuar\",\r\n              });\r\n            }\r\n          })\r\n      }\r\n    } else {\r\n      /// MODIFICAR\r\n\r\n      axios\r\n      .put(\"http://localhost:5000/api/libroUpdate/\" + idUpdate, {\r\n        nombreLibro: document.getElementById('nombreLibro').value,\r\n        autor: document.getElementById('autor').value,\r\n        idioma: idioma,\r\n      })\r\n      .then((response) => {\r\n        console.log(response)\r\n        swal({\r\n          title: \"Libro modificado satisfactoriamente\",\r\n          text: \"datos guardados\",\r\n          icon: \"success\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        swal({\r\n          title: \"Error\",\r\n          text: \"Error: No se pudo modificar\",\r\n          icon: \"error\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    cargar();\r\n  }, []);\r\n\r\n  const cargar = async () => {\r\n    const { data } = await axios.get(\"http://localhost:5000/api/libros\");\r\n    setItem(data);\r\n    return null;\r\n  }\r\n\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setIdioma(event.target.value);\r\n  };\r\n\r\n\r\n  const handleEliminar = (event) => {\r\n    \r\n\r\n    axios\r\n      .delete(\"http://localhost:5000/api/librodelete/\" + event)\r\n      .then((response) => {\r\n        console.log(response)\r\n        swal({\r\n          title: \"Libro eliminado satisfactoriamente\",\r\n          text: \"Eliminado de la base de datos\",\r\n          icon: \"success\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        swal({\r\n          title: \"Error\",\r\n          text: \"Error: No se pudo borrar\",\r\n          icon: \"error\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n  }\r\n\r\n  console.log(errors);\r\n  return (\r\n    <Grid className={classes.fondo}>\r\n      <Card className={classes.paper}>\r\n        <CardContent >\r\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n          {nombreBoton}.\r\n          </Typography>\r\n          <form onSubmit={handleSubmit(onSubmit)} name=\"libros\" noValidate>\r\n            <Grid >\r\n              <Grid className={classes.inputs}>\r\n                <TextField\r\n\r\n                  required\r\n                  fullWidth\r\n                  className={classes.espaciado}\r\n                  name=\"nombreLibro\"\r\n                  label=\"Nombre del libro\"\r\n                  inputRef={register}\r\n                  id=\"nombreLibro\"\r\n                  margin=\"normal\"\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                />\r\n\r\n\r\n                <TextField\r\n\r\n                  required\r\n                  id=\"autor\"\r\n                  className={classes.espaciado}\r\n                  fullWidth\r\n                  label=\"autor del libro\"\r\n                  name=\"autor\"\r\n                  inputRef={register}\r\n                  autoComplete=\"autor\"\r\n                  margin=\"normal\"\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                />\r\n                <FormControl variant=\"outlined\" className={classes.formControl}>\r\n                  <InputLabel id=\"demo-simple-select-outlined-label\">Idioma</InputLabel>\r\n                  <Select\r\n                    labelId=\"demo-simple-select-outlined-label\"\r\n                    id=\"demo-simple-select-outlined\"\r\n                    value={idioma}\r\n                    onChange={handleChange}\r\n                    label=\"idioma\"\r\n                  >\r\n                    <MenuItem value={\"ingles\"}>Ingles</MenuItem>\r\n                    <MenuItem value={\"español\"}>Español</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >{nombreBoton}</Button>\r\n            </Grid>\r\n\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n      {item.length === 0 ? <CircularProgress /> :\r\n        <MaterialDatatable\r\n          fullWidth\r\n          className={classes.datatable}\r\n          title={\"Libros\"}\r\n          data={item}\r\n          columns={columns}\r\n          options={{\r\n            selectableRows: false,\r\n            print: false,\r\n            onlyOneRowCanBeSelected: false,\r\n\r\n            textLabels: {\r\n              body: {\r\n                noMatch: \"No se encontraron libros registrados\",\r\n\r\n              },\r\n              pagination: {\r\n                next: \"Siguiente\",\r\n                previous: \"Página Anterior\",\r\n                rowsPerPage: \"Filas por página:\",\r\n                displayRows: \"de\",\r\n\r\n              },\r\n              toolbar: {\r\n                search: \"Buscar por titulo o codigo\",\r\n\r\n              },\r\n              selectedRows: {\r\n                text: \"Columna(s) seleccionada\",\r\n                delete: \"Eliminar\",\r\n                deleteAria: \"Delete Selected Rows\",\r\n                icon: Card,\r\n              },\r\n            },\r\n            download: false,\r\n            pagination: true,\r\n            rowsPerPage: 5,\r\n            usePaperPlaceholder: true,\r\n            rowsPerPageOptions: [5, 10, 25],\r\n            sortColumnDirection: \"desc\",\r\n            filter: false,\r\n            responsive: 'stacked',\r\n          }}\r\n\r\n        />}\r\n\r\n\r\n\r\n\r\n    </Grid>\r\n  );\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { useForm } from 'react-hook-form';\r\nimport axios from 'axios'\r\nimport MaterialDatatable from \"material-datatable\"\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport swal from 'sweetalert';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { IconButton } from '@material-ui/core';\r\nimport { loadCSS } from 'fg-loadcss';\r\n\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 220,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  card: {\r\n    marginTop: theme.spacing(5),\r\n    alignItems: 'center',\r\n\r\n  },\r\n  gridGuardarLibro: {\r\n    alignItems: 'center'\r\n\r\n  },\r\n  datatable: {\r\n    marginTop: theme.spacing(6),\r\n    alignItems: \"center\"\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  inputs: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    marginRight: theme.spacing(4),\r\n    with: '100%'\r\n  },\r\n  espaciado: {\r\n    margin: theme.spacing(2)\r\n  },\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n}));\r\n\r\nexport default function Libros() {\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const [item, setItem] = useState([])\r\n  const [selectedAlumno, setSelectedAlumno] = useState(null)\r\n  const [nombreBoton, setNombreBoton] = useState('Registrar alumno')\r\n  const [idUpdate, setIdUpdate] = useState(null)\r\n  const classes = useStyles();\r\n  const columns = [\r\n    {\r\n      name: \"Seleccionar\",\r\n      options: {\r\n        headerNoWrap: true,\r\n        customBodyRender: (item, tablemeta, update) => {\r\n          return (\r\n            <IconButton\r\n              variant='outlined'\r\n\r\n              className=\"btnblock\"\r\n              onClick={() => handleSeleccion(item)}\r\n              color={selectedAlumno === item._id ? \"secondary\" : \"\"}\r\n            >\r\n              <div className={classes.root}>\r\n                {selectedAlumno === item._id ? <Icon className=\"fa fa-check-circle\" /> : <Icon className=\"far fa-circle\" />}\r\n\r\n\r\n              </div>\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    },\r\n    {\r\n      name: \"Rut del Alumno\",\r\n      field: \"rut\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Nombre del alumno\",\r\n      field: \"nombre\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n\r\n      options: {\r\n        headerNoWrap: true,\r\n        customBodyRender: (item, tablemeta, update) => {\r\n          return (\r\n            <IconButton aria-label=\"delete\"\r\n              onClick={() => handleEliminar(item.rut)}>\r\n              <Icon className=\"far fa-trash-alt\" />\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    },\r\n  ]\r\n\r\n\r\n  const onSubmit = (data, e) => {\r\n    if (nombreBoton === 'Registrar alumno') {\r\n      if (data.nombre === '' || data.rut === '') {\r\n        swal({\r\n          title: \"Datos vacios\",\r\n          text: \"Falta completar alguno de los datos\",\r\n          icon: \"warning\",\r\n          button: \"Continuar\",\r\n        });\r\n      } else {\r\n        axios\r\n          .post('http://localhost:5000/api/alumnoSave', {\r\n            nombre: data.nombre,\r\n            rut: data.rut,\r\n          })\r\n          .then(\r\n            (Response) => {\r\n\r\n              if (Response.status === 200) {\r\n                swal({\r\n                  title: \"Alumno registrado satisfactoriamente\",\r\n                  text: \"Registrado en la base de datos\",\r\n                  icon: \"success\",\r\n                  button: \"Continuar\",\r\n                });\r\n                cargar()\r\n                e.target.reset()\r\n              }\r\n              console.log(Response)\r\n            }\r\n          )\r\n          .catch((error) => {\r\n            if (error.response.status === 401) {\r\n              swal({\r\n                title: \"Error al registrar\",\r\n                text: \"Este alumno ya se encuentra en la base de la datos\",\r\n                icon: \"error\",\r\n                button: \"Continuar\",\r\n              });\r\n            } else {\r\n              swal({\r\n                title: \"Error al registrar\",\r\n                text: \"Hubo un problema con la conexion a la base de datos\",\r\n                icon: \"error\",\r\n                button: \"Continuar\",\r\n              });\r\n            }\r\n          })\r\n      }\r\n    } else {\r\n        /// MODIFICAR\r\n      axios\r\n      .put(\"http://localhost:5000/api/alumnoUpdate/\" + idUpdate, {\r\n        nombre: document.getElementById('nombre').value,\r\n        \r\n      })\r\n      .then((response) => {\r\n        console.log(response)\r\n        swal({\r\n          title: \"Alumno modificado satisfactoriamente\",\r\n          text: \"datos guardados\",\r\n          icon: \"success\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        swal({\r\n          title: \"Error\",\r\n          text: \"Error: No se pudo modificar\",\r\n          icon: \"error\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    cargar();\r\n  }, []);\r\n\r\n\r\n  React.useEffect(() => {\r\n    const node = loadCSS(\r\n      'https://use.fontawesome.com/releases/v5.12.0/css/all.css',\r\n      document.querySelector('#font-awesome-css'),\r\n    );\r\n    return () => {\r\n      node.parentNode.removeChild(node);\r\n    };\r\n  }, []);\r\n\r\n  const cargar = async () => {\r\n    const { data } = await axios.get(\"http://localhost:5000/api/alumnos\");\r\n    setItem(data);\r\n    return null;\r\n  }\r\n\r\n  const handleEliminar = (id) => {\r\n    axios\r\n      .delete(\"http://localhost:5000/api/alumnoEliminar/\" + id)\r\n      .then((response) => {\r\n        console.log(response)\r\n        swal({\r\n          title: \"Eliminado\",\r\n          text: \"Alumno eliminado satisfactoriamente\",\r\n          icon: \"success\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n      .catch((error) => {\r\n        console.log(error)\r\n        swal({\r\n          title: \"Error\",\r\n          text: \"Error: No se pudo borrar\",\r\n          icon: \"error\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargar()\r\n      })\r\n\r\n  }\r\n\r\n\r\n  const handleSeleccion = (item) => {\r\n    if (selectedAlumno === item._id) {\r\n      setSelectedAlumno(null)\r\n      document.getElementById('rut').value = \"\"\r\n      document.getElementById('rut').disabled = false\r\n      document.getElementById('nombre').value = \"\"\r\n      setIdUpdate(null)\r\n      setNombreBoton('Registrar alumno')\r\n    } else {\r\n      setSelectedAlumno(item._id);\r\n      document.getElementById('rut').value = item.rut\r\n      document.getElementById('rut').disabled = true\r\n      document.getElementById('nombre').value = item.nombre\r\n      setIdUpdate(item._id)\r\n      setNombreBoton('Modificar alumno')\r\n    }\r\n  }\r\n\r\n  console.log(errors);\r\n  return (\r\n    <Grid>\r\n      <Card className={classes.paper}>\r\n        <CardContent className={classes.nose}>\r\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n            {nombreBoton}.\r\n          </Typography>\r\n          <form onSubmit={handleSubmit(onSubmit)} name=\"libros\" noValidate>\r\n            <Grid >\r\n              <Grid className={classes.inputs}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  className={classes.espaciado}\r\n                  name=\"rut\"\r\n                  label=\"Rut del alumno\"\r\n                  inputRef={register}\r\n                  id=\"rut\"\r\n                  autoComplete=\"rut por defecto\"\r\n                  margin=\"normal\"\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                />\r\n\r\n\r\n                <TextField\r\n                  required\r\n                  id=\"nombre\"\r\n                  className={classes.espaciado}\r\n                  fullWidth\r\n                  label=\"Nombre del alumno\"\r\n                  name=\"nombre\"\r\n                  inputRef={register}\r\n                  autoComplete=\"Nombre por defecto\"\r\n                  margin=\"normal\"\r\n                  InputLabelProps={{\r\n                    shrink: true,\r\n                  }}\r\n                />\r\n\r\n              </Grid>\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n              >{nombreBoton}</Button>\r\n            </Grid>\r\n\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n\r\n\r\n      <Grid className={classes.datatable}>\r\n        {item.length === 0 ? <Grid className={classes.root}><CircularProgress /> </Grid> :\r\n          <MaterialDatatable\r\n            title={\"Alumnos\"}\r\n            data={item}\r\n            columns={columns}\r\n            options={{\r\n              selectableRows: false,\r\n              print: false,\r\n\r\n              textLabels: {\r\n                body: {\r\n                  noMatch: \"No se encontro ningun alumno registrado\",\r\n\r\n                },\r\n                pagination: {\r\n                  next: \"Siguiente\",\r\n                  previous: \"Página Anterior\",\r\n                  rowsPerPage: \"Filas por página:\",\r\n                  displayRows: \"de\",\r\n\r\n                },\r\n                toolbar: {\r\n                  search: \"Buscar por Rut o nombre del alumno\",\r\n\r\n                },\r\n                selectedRows: {\r\n                  text: \"Columna(s) seleccionada\",\r\n                  delete: \"Eliminar\",\r\n                  deleteAria: \"Delete Selected Rows\",\r\n                },\r\n              },\r\n              download: false,\r\n              pagination: true,\r\n              rowsPerPage: 5,\r\n              usePaperPlaceholder: true,\r\n              rowsPerPageOptions: [5, 10, 25],\r\n              sortColumnDirection: \"desc\",\r\n              filter: false,\r\n              responsive: 'stacked',\r\n\r\n            }}\r\n\r\n          />}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios'\r\nimport MaterialDatatable from \"material-datatable\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { loadCSS } from 'fg-loadcss';\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { IconButton } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport swal from 'sweetalert';\r\nimport Card from '@material-ui/core/Card';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: 'relative',\r\n  },\r\n  datatable: {\r\n    marginTop: theme.spacing(6),\r\n  },\r\n  layout: {\r\n    width: 'auto',\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n      width: \"100%\",\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(3),\r\n    marginBottom: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n      marginTop: theme.spacing(6),\r\n      marginBottom: theme.spacing(6),\r\n      padding: theme.spacing(3),\r\n    },\r\n  },\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5),\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1),\r\n  },\r\n  inputsDisabled: {\r\n    marginTop: theme.spacing(3),\r\n\r\n  },\r\n  root: {\r\n    '& > span': {\r\n      margin: theme.spacing(0),\r\n    },\r\n  },\r\n\r\n}));\r\n\r\n\r\nconst steps = ['Ingresar Libro', 'Ingresar Alumno', 'Ingresar fechas', 'Orden de prestamo.'];\r\n\r\n\r\n\r\nexport default function Checkout() {\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = React.useState(0);\r\n  const [itemLibro, setItemLibro] = useState([])\r\n  const [itemAlumno, setItemAlumno] = useState([])\r\n  const [itemPrestamo, setItemPrestamo] = useState([])\r\n  const [botonLibro, setBotonLibro] = useState(true)\r\n\r\n  const [selectedLibro, setSelectedLibro] = useState(null)\r\n  const [libroDePedido, setLibroDePedido] = useState(null)\r\n  const [selectedAlumno, setSelectedAlumno] = useState(null)\r\n  const [alumnoDePedido, setAlumnoDePedido] = useState(null)\r\n  const [selectedDateInicio, setSelectedDateInicio] = React.useState(new Date())\r\n  const [selectedDateEntrega, setSelectedDateEntrega] = React.useState(new Date())\r\n  const [paramsLibro, setParamsLibro] = useState({\r\n    page: 1,\r\n    per_page: 20,\r\n  });\r\n  const [paramsAlumno, setParamsAlumno] = useState({\r\n    page: 1,\r\n    per_page: 20,\r\n  });\r\n\r\n  const columnsLibros = [\r\n    {\r\n      name: \"Seleccionar\",\r\n      options: {\r\n        headerNoWrap: true,\r\n        customBodyRender: (item, tablemeta, update) => {\r\n          return (\r\n            <IconButton\r\n              variant='outlined'\r\n\r\n              className=\"btnblock\"\r\n              onClick={() => handleSeleccion(item)}\r\n              color={selectedLibro === item._id ? \"secondary\" : \"\"}\r\n            >\r\n              <div className={classes.root}>\r\n                {selectedLibro === item._id ? <Icon className=\"fa fa-check-circle\" /> : <Icon className=\"far fa-circle\" />}\r\n\r\n\r\n              </div>\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    },\r\n    {\r\n      name: \"Titulo del libro\",\r\n      field: \"nombreLibro\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Codigo\",\r\n      field: \"_id\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Autor\",\r\n      field: \"autor\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      }\r\n    },\r\n\r\n    {\r\n      name: \"idioma\",\r\n      field: \"idioma\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      }\r\n    }\r\n  ]\r\n  const columnsAlumnos = [\r\n    {\r\n      name: \"Seleccionar\",\r\n      options: {\r\n        headerNoWrap: true,\r\n        customBodyRender: (item, tablemeta, update) => {\r\n          return (\r\n            <IconButton\r\n\r\n              className=\"btnblock\"\r\n              onClick={() => handleSeleccionAlumno(item)}\r\n              color={selectedAlumno === item._id ? \"secondary\" : \"\"}\r\n            >\r\n              <div className={classes.root}>\r\n\r\n                {selectedAlumno === item._id ? <Icon className=\"fa fa-check-circle\" /> : <Icon className=\"far fa-circle\" />}\r\n\r\n              </div>\r\n            </IconButton>\r\n          );\r\n        },\r\n      },\r\n    },\r\n    {\r\n      name: \"Rut del Alumno\",\r\n      field: \"rut\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Nombre del alumno\",\r\n      field: \"nombre\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    }\r\n  ]\r\n\r\n  const columnsPrestamos = [\r\n\r\n    \r\n    {\r\n      name: \"Rut del Alumno\",\r\n      field: \"rut\",\r\n      options: {\r\n        filter: false,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Nombre del alumno\",\r\n      field: \"nombre\",\r\n      options: {\r\n        filter: false,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Titulo del libro\",\r\n      field: \"nombreLibro\",\r\n      options: {\r\n        filter: true,\r\n        sort: true,\r\n      }\r\n    },\r\n    {\r\n      name: \"Fecha de inicio\",\r\n      field: \"fechaInicio\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      }\r\n    },\r\n    {\r\n      name: \"Fecha de entrega\",\r\n      field: \"fechaEntrega\",\r\n      options: {\r\n        filter: true,\r\n        sort: false,\r\n      }\r\n    }\r\n  ]\r\n\r\n  useEffect(() => {\r\n    cargarLibros();\r\n    cargarAlumnos();\r\n    cargarPrestamos();\r\n  }, []);\r\n\r\n\r\n  React.useEffect(() => {\r\n    const node = loadCSS(\r\n      'https://use.fontawesome.com/releases/v5.12.0/css/all.css',\r\n      document.querySelector('#font-awesome-css'),\r\n    );\r\n    return () => {\r\n      node.parentNode.removeChild(node);\r\n    };\r\n  }, []);\r\n\r\n  const cargarLibros = async () => {\r\n    const { data } = await axios.get(\"http://localhost:5000/api/libros\");\r\n    setItemLibro(data);\r\n    return null;\r\n  }\r\n\r\n  const cargarAlumnos = async () => {\r\n    const { data } = await axios.get(\"http://localhost:5000/api/alumnos\");\r\n    setItemAlumno(data);\r\n    return null;\r\n  }\r\n\r\n  const cargarPrestamos = async () =>{\r\n    const { data } = await axios.get(\"http://localhost:5000/api/prestamos\");\r\n    setItemPrestamo(data);\r\n    return null;\r\n  }\r\n\r\n  const handleNext = () => {\r\n\r\n    if ((selectedAlumno !== null && activeStep === 0) || (activeStep === 1 )|| (activeStep === 2) || (activeStep === 3)) setBotonLibro(false)\r\n    else setBotonLibro(true)\r\n\r\n\r\n    if (activeStep === 3) registrarPedido(selectedLibro, selectedAlumno, selectedDateInicio, selectedDateEntrega)\r\n\r\n    if(activeStep !== 3) setActiveStep(activeStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if ((selectedLibro !== null && activeStep === 1) || (selectedAlumno !== null && activeStep === 2) || (activeStep === 3)) setBotonLibro(false)\r\n    else setBotonLibro(true)\r\n    setActiveStep(activeStep - 1);\r\n  };\r\n\r\n  const handleSeleccion = (item) => {\r\n\r\n    if (selectedLibro === item._id) {\r\n      setLibroDePedido(null)\r\n      setBotonLibro(true)\r\n      setSelectedLibro(null)\r\n    } else {\r\n      setLibroDePedido(item.nombreLibro)\r\n      setBotonLibro(false)\r\n      setSelectedLibro(item._id);\r\n    }\r\n\r\n  }\r\n\r\n  const handleSeleccionAlumno = (item) => {\r\n    if (selectedAlumno === item._id) {\r\n      setAlumnoDePedido(null)\r\n      setBotonLibro(true)\r\n      setSelectedAlumno(null)\r\n    } else {\r\n      setAlumnoDePedido(item.nombre)\r\n      setBotonLibro(false)\r\n      setSelectedAlumno(item._id);\r\n    }\r\n  }\r\n\r\n  const handleDateChangeInicio = (date) => {\r\n    if (date > selectedDateEntrega) setBotonLibro(true)\r\n    else setBotonLibro(false)\r\n    setSelectedDateInicio(date);\r\n  };\r\n\r\n  const handleDateChangeEntrega = (date) => {\r\n    console.log(date, selectedDateInicio)\r\n    if (selectedDateInicio >= date) setBotonLibro(true)\r\n    else setBotonLibro(false)\r\n    setSelectedDateEntrega(date);\r\n  };\r\n\r\n\r\n  const registrarPedido = (codigo, rut, dateInicio, dateEntrega) => {\r\n    swal({\r\n      title: \"Registrar pedido\",\r\n      text: \"¿Seguro que deseas registrar este pedido?\",\r\n      icon: \"warning\",\r\n      buttons: true,\r\n      dangerMode: true,\r\n    })\r\n      .then((willAdd) => {\r\n        if (willAdd) {\r\n          axios\r\n            .post(\"http://localhost:5000/api/prestamoSave\", {\r\n              \"fechaInicio\": dateInicio,\r\n              \"fechaEntrega\": dateEntrega,\r\n              \"libro\": codigo,\r\n              \"alumno\": rut,\r\n            })\r\n            .then(\r\n              (Response) => {\r\n                if (Response.status === 200) {\r\n                  swal({\r\n                    title: \"Registrado satisfactoriamente\",\r\n                    text: \"La prestacion del libro fue hecho satisfactoriamente\",\r\n                    icon: \"success\",\r\n                    button: \"Continuar\",\r\n                  });\r\n\r\n                  setBotonLibro(true)\r\n                  setSelectedLibro(null)\r\n                  setLibroDePedido(null)\r\n                  setSelectedAlumno(null)\r\n                  setAlumnoDePedido(null)\r\n                  setSelectedDateInicio(new Date())\r\n                  setSelectedDateEntrega(new Date())\r\n                  setActiveStep(0)\r\n                  cargarPrestamos();\r\n                }\r\n              }\r\n            ).catch((error) => {\r\n              if (error.response.status === 401) {\r\n                console.log(error)\r\n                swal({\r\n                  title: \"Error al registrar\",\r\n                  text: \"Este alumno ya se encuentra en la base de la datos\",\r\n                  icon: \"error\",\r\n                  button: \"Continuar\",\r\n                });\r\n              } else {\r\n                swal({\r\n                  title: \"Error al registrar\",\r\n                  text: \"Hubo un problema con la conexion a la base de datos\",\r\n                  icon: \"error\",\r\n                  button: \"Continuar\",\r\n                });\r\n              }\r\n            })\r\n        } else {\r\n          swal(\"Aun puedes revisar denuevo los datos\");\r\n        }\r\n      });\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  const handleEliminar = (event) =>{\r\n    let id = itemPrestamo[event.data[0].dataIndex]._id\r\n    console.log(id)\r\n    \r\n    \r\n    axios\r\n    .delete(\"http://localhost:5000/api/eliminarPrestamo/\" + id)\r\n    .then((response) =>{\r\n       console.log(response)\r\n       swal({\r\n          title: \"Libro eliminado satisfactoriamente\",\r\n          text: \"Eliminado de la base de datos\",\r\n          icon: \"success\",\r\n          button: \"Continuar\",\r\n        });\r\n        cargarPrestamos()\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n      swal({\r\n        title: \"Error\",\r\n        text: \"Error: No se pudo borrar\",\r\n        icon: \"error\",\r\n        button: \"Continuar\",\r\n      });\r\n      cargarPrestamos()\r\n    })\r\n\r\n    \r\n  }\r\n\r\n  function getStepContent(step) {\r\n    switch (step) {\r\n      case 0:\r\n        return (<Grid> { itemLibro.length === 0 ? <CircularProgress /> :\r\n        <MaterialDatatable\r\n          className={classes.datatable}\r\n          title={\"Agregar libros\"}\r\n          data={itemLibro}\r\n          columns={columnsLibros}\r\n          options={{\r\n            componentWillReceiveProps: true,\r\n            print: false,\r\n            selectableRows: false,\r\n            textLabels: {\r\n              body: {\r\n                noMatch: <CircularProgress />,\r\n\r\n              },\r\n              pagination: {\r\n                next: \"Siguiente\",\r\n                previous: \"Página Anterior\",\r\n                rowsPerPage: \"Filas por página:\",\r\n                displayRows: \"de\",\r\n\r\n              },\r\n              toolbar: {\r\n                search: \"Buscar por titulo o codigo\",\r\n\r\n              },\r\n\r\n            },\r\n            download: false,\r\n            rowsPerPage: 5,\r\n            usePaperPlaceholder: true,\r\n            rowsPerPageOptions: [5, 10, 25],\r\n            sortColumnDirection: \"desc\",\r\n            filter: false,\r\n            responsive: 'stacked',\r\n            page: paramsLibro.page - 1,\r\n\r\n            onChangePage: (currentPage) => {\r\n              setParamsLibro({ ...paramsLibro, page: currentPage + 1 });\r\n            },\r\n            onChangeRowsPerPage: (numberOfRows) => {\r\n              setParamsLibro({ ...paramsLibro, page: 1, per_page: numberOfRows });\r\n            },\r\n          }}\r\n\r\n        />}</Grid>)\r\n      case 1:\r\n        return (<Grid> {itemAlumno.length === 0 ? <CircularProgress /> :\r\n        <MaterialDatatable\r\n          title={\"Alumnos\"}\r\n          data={itemAlumno}\r\n          columns={columnsAlumnos}\r\n          options={{\r\n            selectableRows: false,\r\n            print: false,\r\n            componentWillReceiveProps: true,\r\n            textLabels: {\r\n              body: {\r\n                noMatch: <CircularProgress />,\r\n\r\n              },\r\n              pagination: {\r\n                next: \"Siguiente\",\r\n                previous: \"Página Anterior\",\r\n                rowsPerPage: \"Filas por página:\",\r\n                displayRows: \"de\",\r\n\r\n              },\r\n              toolbar: {\r\n                search: \"Buscar por Rut o nombre del alumno\",\r\n\r\n              },\r\n              selectedRows: {\r\n                text: \"Columna(s) seleccionada\",\r\n                delete: \"Eliminar\",\r\n                deleteAria: \"Delete Selected Rows\",\r\n              },\r\n            },\r\n            download: false,\r\n            pagination: true,\r\n            rowsPerPage: 5,\r\n            usePaperPlaceholder: true,\r\n            rowsPerPageOptions: [5, 10, 25],\r\n            sortColumnDirection: \"desc\",\r\n            filter: false,\r\n            responsive: 'stacked',\r\n            page: paramsAlumno.page - 1,\r\n\r\n            onChangePage: (currentPage) => {\r\n              setParamsAlumno({ ...paramsAlumno, page: currentPage + 1 });\r\n            },\r\n            onChangeRowsPerPage: (numberOfRows) => {\r\n              setParamsAlumno({ ...paramsAlumno, page: 1, per_page: numberOfRows });\r\n            },\r\n          }}\r\n\r\n        />}</Grid>)\r\n      case 2:\r\n        return (\r\n          <MuiPickersUtilsProvider utils={DateFnsUtils} >\r\n            <Grid container justify=\"space-around\">\r\n              <KeyboardDatePicker\r\n                margin=\"normal\"\r\n                label=\"Fecha de inicio del prestamo\"\r\n                format=\"MM/dd/yyyy\"\r\n                value={selectedDateInicio}\r\n                onChange={handleDateChangeInicio}\r\n                KeyboardButtonProps={{\r\n                  'aria-label': 'change date',\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid container justify=\"space-around\">\r\n              <KeyboardDatePicker\r\n                margin=\"normal\"\r\n                label=\"Fecha de entrega del prestamo\"\r\n                format=\"MM/dd/yyyy\"\r\n                value={selectedDateEntrega}\r\n                onChange={handleDateChangeEntrega}\r\n                KeyboardButtonProps={{\r\n                  'aria-label': 'change date',\r\n                }}\r\n              />\r\n            </Grid>\r\n          </MuiPickersUtilsProvider>\r\n        )\r\n      case 3:\r\n        return (\r\n          <Grid>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              className={classes.inputsDisabled}\r\n              required\r\n              disabled=\"true\"\r\n              fullWidth\r\n              label=\"Libro a prestacion\"\r\n              value={libroDePedido}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              className={classes.inputsDisabled}\r\n              required\r\n              disabled=\"true\"\r\n              fullWidth\r\n              label=\"Alumno involucrado\"\r\n              value={alumnoDePedido}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              className={classes.inputsDisabled}\r\n              required\r\n              disabled=\"true\"\r\n              fullWidth\r\n              label=\"Fecha de inicio\"\r\n              value={selectedDateInicio}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              className={classes.inputsDisabled}\r\n              required\r\n              disabled=\"true\"\r\n              fullWidth\r\n              label=\"Fecha de entrega\"\r\n              value={selectedDateEntrega}\r\n            />\r\n          </Grid>\r\n        )\r\n      default:\r\n        throw new Error('Paso erroneo');\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CssBaseline />\r\n      <main className={classes.layout}>\r\n        <Paper className={classes.paper}>\r\n          <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n            Prestamo de libros.\r\n          </Typography>\r\n          <Stepper activeStep={activeStep} className={classes.stepper}>\r\n            {steps.map((label) => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n          <React.Fragment>\r\n            {activeStep === steps.length ? (\r\n              console.log(\"hola 2 veces\")\r\n            ) : (\r\n                <React.Fragment>\r\n                  {getStepContent(activeStep)}\r\n                  <div className={classes.buttons}>\r\n                    {activeStep !== 0 && (\r\n                      <Button onClick={handleBack} className={classes.button}>\r\n                        Atras\r\n                      </Button>\r\n                    )}\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={handleNext}\r\n                      disabled={botonLibro}\r\n                      className={classes.button}\r\n                      name='boton'\r\n                      id='boton'\r\n                    >\r\n                      {activeStep === steps.length - 1 ? 'Generar orden de prestamo' : 'Siguiente'}\r\n                    </Button>\r\n                  </div>\r\n                </React.Fragment>\r\n              )}\r\n          </React.Fragment>\r\n        </Paper>\r\n        { itemPrestamo.length === 0  ? <CircularProgress /> :\r\n        <MaterialDatatable\r\n          className={classes.datatable}\r\n          title={\"Historial de prestamos\"}\r\n          data={itemPrestamo}\r\n          columns={columnsPrestamos}\r\n          options={{\r\n            selectableRows: true,\r\n            print: false,\r\n            onlyOneRowCanBeSelected: true,\r\n\r\n            textLabels: {\r\n              body: {\r\n                noMatch: \"No existe ningun prestamos registrado.\",\r\n\r\n              },\r\n              pagination: {\r\n                next: \"Siguiente\",\r\n                previous: \"Página Anterior\",\r\n                rowsPerPage: \"Filas por página:\",\r\n                displayRows: \"de\",\r\n\r\n              },\r\n              toolbar: {\r\n                search: \"Buscar por titulo o codigo\",\r\n\r\n              },\r\n              selectedRows: {\r\n                text: \"Columna(s) seleccionada\",\r\n                delete: \"Eliminar\",\r\n                deleteAria: \"Delete Selected Rows\",\r\n                icon: Card,\r\n              },\r\n            },\r\n            download: false,\r\n            pagination: true,\r\n            rowsPerPage: 5,\r\n            usePaperPlaceholder: true,\r\n            rowsPerPageOptions: [5, 10, 25],\r\n            sortColumnDirection: \"desc\",\r\n            filter: false,\r\n            responsive: 'stacked',\r\n            onRowsDelete: handleEliminar,\r\n            \r\n\r\n          }}\r\n\r\n        />   }\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useState , useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport axios from 'axios'\r\nimport MaterialDatatable from \"material-datatable\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Card from '@material-ui/core/Card';\r\nimport Button from '@material-ui/core/Button';\r\nimport swal from 'sweetalert';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    datatable: {\r\n      marginTop: theme.spacing(6),\r\n    },\r\n  \r\n  }));\r\n\r\n\r\nexport default function Devoluciones(){\r\n    const [itemDevolucion, setDevolucion] = useState([])\r\n    const classes = useStyles();\r\n    const columnsDevoluciones = [\r\n        {\r\n            name: \"Rut del Alumno\",\r\n            field: \"rut\",\r\n            options: {\r\n              filter: false,\r\n              sort: true,\r\n            }\r\n          },\r\n          {\r\n            name: \"Nombre del alumno\",\r\n            field: \"nombre\",\r\n            options: {\r\n              filter: false,\r\n              sort: true,\r\n            }\r\n          },\r\n          {\r\n            name: \"Titulo del libro\",\r\n            field: \"nombreLibro\",\r\n            options: {\r\n              filter: true,\r\n              sort: true,\r\n            }\r\n          },\r\n          {\r\n            name: \"Fecha de inicio\",\r\n            field: \"fechaInicio\",\r\n            options: {\r\n              filter: true,\r\n              sort: false,\r\n            }\r\n          },\r\n          {\r\n            name: \"Fecha de entrega\",\r\n            field: \"fechaEntrega\",\r\n            options: {\r\n              filter: true,\r\n              sort: false,\r\n            }\r\n          \r\n          },\r\n          {\r\n            name: \"Registrar Devolucion\",\r\n            options: {\r\n              headerNoWrap: true,\r\n              customBodyRender: (item, tablemeta, update) => {\r\n                return (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    onClick={() => handleSeleccionPrestamo(item)}\r\n                    color=\"primary\"\r\n                  >\r\n                    Devolver libro       \r\n                  </Button>\r\n                );\r\n              },\r\n            },\r\n          },\r\n    ]\r\n\r\n    useEffect(() => {\r\n        cargarPrestamosDevo();\r\n    }, []);\r\n\r\n\r\n    const cargarPrestamosDevo = async () =>{\r\n        const { data } = await axios.get(\"http://localhost:5000/api/prestamosDevo\");\r\n        setDevolucion(data);\r\n        return null;\r\n    }\r\n\r\n\r\n    function handleSeleccionPrestamo(item) {\r\n        \r\n        swal({\r\n            title: \"Registrar devolucion\",\r\n            text: \"Estas apunto de devolver el libro \\\"\"+ item.nombreLibro+\"\\\". ¿Quieres continuar?\",\r\n            icon: \"warning\",\r\n            buttons: true,\r\n            dangerMode: true,\r\n          })\r\n            .then((willAdd) => {\r\n              if (willAdd) {\r\n                axios\r\n                  .put(\"http://localhost:5000/api/updatePrestamo/\" + item._id, {\r\n                    \"fechaEntregaReal\": new Date(),\r\n                  })\r\n                  .then(\r\n                    (Response) => {\r\n                      if (Response.status === 200) {\r\n                        swal({\r\n                          title: \"Registrado satisfactoriamente\",\r\n                          text: \"El libro fue devuelto a la biblioteca\",\r\n                          icon: \"success\",\r\n                          button: \"Continuar\",\r\n                        });\r\n                        cargarPrestamosDevo()\r\n                      }\r\n                    }\r\n                  ).catch((error) => {\r\n                    if (error.response.status === 401) {\r\n                      console.log(error)\r\n                      swal({\r\n                        title: \"Error al registrar\",\r\n                        text: \"No se pudo devolver el libro ya se ha devuelto con anterioridad\",\r\n                        icon: \"error\",\r\n                        button: \"Continuar\",\r\n                      });\r\n                    } else {\r\n                      swal({\r\n                        title: \"Error al registrar\",\r\n                        text: \"Hubo un problema con la conexion a la base de datos\",\r\n                        icon: \"error\",\r\n                        button: \"Continuar\",\r\n                      });\r\n                    }\r\n                  })\r\n              } else {\r\n                \r\n              }\r\n            });\r\n\r\n        \r\n    }\r\n\r\n    return(<Grid> { itemDevolucion.length === 0 ? <CircularProgress /> :\r\n        <MaterialDatatable\r\n          className={classes.datatable}\r\n          title={\"Prestamos de libros que deben ser devueltos\"}\r\n          data={itemDevolucion}\r\n          columns={columnsDevoluciones}\r\n          options={{\r\n            selectableRows: false,\r\n            print: false,\r\n            \r\n\r\n            textLabels: {\r\n              body: {\r\n                noMatch: \"No existen libros que se deban devolver\",\r\n\r\n              },\r\n              pagination: {\r\n                next: \"Siguiente\",\r\n                previous: \"Página Anterior\",\r\n                rowsPerPage: \"Filas por página:\",\r\n                displayRows: \"de\",\r\n\r\n              },\r\n              toolbar: {\r\n                search: \"Buscar por titulo o codigo\",\r\n\r\n              },\r\n              selectedRows: {\r\n                text: \"Columna(s) seleccionada\",\r\n                delete: \"Eliminar\",\r\n                deleteAria: \"Delete Selected Rows\",\r\n                icon: Card,\r\n              },\r\n            },\r\n            download: false,\r\n            pagination: true,\r\n            rowsPerPage: 5,\r\n            usePaperPlaceholder: true,\r\n            rowsPerPageOptions: [5, 10, 25],\r\n            sortColumnDirection: \"desc\",\r\n            filter: false,\r\n            responsive: 'stacked',\r\n            \r\n            \r\n\r\n          }}\r\n\r\n        />} </Grid>\r\n    )\r\n\r\n\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from 'axios'\r\nimport MaterialDatatable from \"material-datatable\"\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Icon from '@material-ui/core/Icon';\r\nimport { loadCSS } from 'fg-loadcss';\r\nimport 'date-fns';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { IconButton } from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    appBar: {\r\n        position: 'relative',\r\n    },\r\n    datatable: {\r\n        marginTop: theme.spacing(6),\r\n    },\r\n    layout: {\r\n        width: 'auto',\r\n        marginLeft: theme.spacing(2),\r\n        marginRight: theme.spacing(2),\r\n        [theme.breakpoints.up(600 + theme.spacing(2) * 2)]: {\r\n            width: \"100%\",\r\n            marginLeft: 'auto',\r\n            marginRight: 'auto',\r\n        },\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(3),\r\n        padding: theme.spacing(2),\r\n        [theme.breakpoints.up(600 + theme.spacing(3) * 2)]: {\r\n            marginTop: theme.spacing(6),\r\n            marginBottom: theme.spacing(6),\r\n            padding: theme.spacing(3),\r\n        },\r\n    },\r\n    stepper: {\r\n        padding: theme.spacing(3, 0, 5),\r\n    },\r\n    buttons: {\r\n        display: 'flex',\r\n        justifyContent: 'flex-end',\r\n    },\r\n    button: {\r\n        marginTop: theme.spacing(3),\r\n        marginLeft: theme.spacing(1),\r\n    },\r\n    inputsDisabled: {\r\n        marginTop: theme.spacing(3),\r\n\r\n    },\r\n    root: {\r\n        '& > span': {\r\n            margin: theme.spacing(0),\r\n        },\r\n    },\r\n    topSpace: {\r\n        marginTop: theme.spacing(5)\r\n    }\r\n\r\n}));\r\n\r\n\r\nexport default function Reporte() {\r\n    const classes = useStyles();\r\n    const [itemLibro, setItemLibro] = useState([])\r\n    const [selectedLibro, setSelectedLibro] = useState(null)\r\n    const [prestamoLibro, setPrestamoLibro] = React.useState(null)\r\n    const [paramsLibro, setParamsLibro] = useState({\r\n        page: 1,\r\n        per_page: 20,\r\n    });\r\n    const columnsLibros = [\r\n        {\r\n            name: \"Seleccionar\",\r\n            options: {\r\n                headerNoWrap: true,\r\n                customBodyRender: (item, tablemeta, update) => {\r\n                    return (\r\n                        <IconButton\r\n                            variant='outlined'\r\n\r\n                            className=\"btnblock\"\r\n                            onClick={() => handleSeleccion(item)}\r\n                            color={selectedLibro === item._id ? \"secondary\" : \"\"}\r\n                        >\r\n                            <div className={classes.root}>\r\n                                {selectedLibro === item._id ? <Icon className=\"fa fa-check-circle\" /> : <Icon className=\"far fa-circle\" />}\r\n\r\n\r\n                            </div>\r\n                        </IconButton>\r\n                    );\r\n                },\r\n            },\r\n        },\r\n        {\r\n            name: \"Titulo del libro\",\r\n            field: \"nombreLibro\",\r\n            options: {\r\n                filter: true,\r\n                sort: true,\r\n            }\r\n        },\r\n        {\r\n            name: \"Codigo\",\r\n            field: \"_id\",\r\n            options: {\r\n                filter: true,\r\n                sort: true,\r\n            }\r\n        },\r\n        {\r\n            name: \"Autor\",\r\n            field: \"autor\",\r\n            options: {\r\n                filter: true,\r\n                sort: false,\r\n            }\r\n        },\r\n\r\n        {\r\n            name: \"idioma\",\r\n            field: \"idioma\",\r\n            options: {\r\n                filter: true,\r\n                sort: false,\r\n            }\r\n        }\r\n    ]\r\n\r\n\r\n    useEffect(() => {\r\n        cargarLibros();\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        const node = loadCSS(\r\n            'https://use.fontawesome.com/releases/v5.12.0/css/all.css',\r\n            document.querySelector('#font-awesome-css'),\r\n        );\r\n        return () => {\r\n            node.parentNode.removeChild(node);\r\n        };\r\n    }, []);\r\n\r\n\r\n    const cargarLibros = async () => {\r\n        const { data } = await axios.get(\"http://localhost:5000/api/libros\");\r\n        setItemLibro(data);\r\n\r\n        return null;\r\n    }\r\n\r\n    const handleSeleccion = (item) => {\r\n        if (selectedLibro === item._id) {\r\n            setSelectedLibro(null)\r\n            setPrestamoLibro(null)\r\n        } else {\r\n            setSelectedLibro(item._id);\r\n\r\n            let id = item._id\r\n            axios\r\n                .post(\"http://localhost:5000/api/cantidadPrestamos\", { id: id })\r\n                .then((Response) => {\r\n                    if (Response.status === 200) {\r\n                        console.log(Response.data.prestamos)\r\n                        setPrestamoLibro(Response.data.prestamos)\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err)\r\n                    setPrestamoLibro(null)\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <Grid>\r\n            {itemLibro.length === 0 ? <CircularProgress/> :\r\n            <MaterialDatatable\r\n                className={classes.datatable}\r\n                title={\"Agregar libros\"}\r\n                data={itemLibro}\r\n                columns={columnsLibros}\r\n                options={{\r\n                    componentWillReceiveProps: true,\r\n                    print: false,\r\n                    selectableRows: false,\r\n                    textLabels: {\r\n                        body: {\r\n                            noMatch: <CircularProgress />,\r\n\r\n                        },\r\n                        pagination: {\r\n                            next: \"Siguiente\",\r\n                            previous: \"Página Anterior\",\r\n                            rowsPerPage: \"Filas por página:\",\r\n                            displayRows: \"de\",\r\n\r\n                        },\r\n                        toolbar: {\r\n                            search: \"Buscar por titulo o codigo\",\r\n\r\n                        },\r\n\r\n                    },\r\n                    download: false,\r\n                    rowsPerPage: 5,\r\n                    usePaperPlaceholder: true,\r\n                    rowsPerPageOptions: [5, 10, 25],\r\n                    sortColumnDirection: \"desc\",\r\n                    filter: false,\r\n                    responsive: 'stacked',\r\n                    page: paramsLibro.page - 1,\r\n\r\n                    onChangePage: (currentPage) => {\r\n                        setParamsLibro({ ...paramsLibro, page: currentPage + 1 });\r\n                    },\r\n                    onChangeRowsPerPage: (numberOfRows) => {\r\n                        setParamsLibro({ ...paramsLibro, page: 1, per_page: numberOfRows });\r\n                    },\r\n                }}\r\n\r\n            /> }\r\n\r\n            {!prestamoLibro === null ? \"\" :\r\n            <Card className={classes.paper}>\r\n                <CardContent className={classes.cardContent}>\r\n                    <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n                        Reporte del libro\r\n                    </Typography> \r\n                    <Typography component=\"h4\" variant=\"h5\" className={classes.topSpace} align=\"left\">\r\n                        Cantidad de libros prestados = {prestamoLibro === null ? \"Selecciona un libro\" : prestamoLibro}\r\n                    </Typography>\r\n                </CardContent>\r\n\r\n            </Card>}\r\n        </Grid>\r\n    );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Libros from './Libros'\r\nimport Alumnos from './Alumnos'\r\nimport Prestamos from './Prestamos'\r\nimport Devoluciones from './Devoluciones'\r\nimport Reporte from './Reporte'\r\n\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  toolbarButtons: {\r\n    marginLeft: 'auto',\r\n  },\r\n}));\r\n\r\nexport default function SimpleTabs() {\r\n  const classes = useStyles();\r\n  const [value, setValue] = React.useState(0);\r\n\r\n\r\n\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  };\r\n\r\n  const cerrar = () => {\r\n    localStorage.removeItem('TOKEN_APP_TALLER');\r\n    localStorage.removeItem('RECORDAR_APP_TALLER_UBB');\r\n\r\n    window.location = '/login'\r\n\r\n}\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\r\n          <Tab label=\"Libros\" {...a11yProps(0)} />\r\n          <Tab label=\"Alumnos\" {...a11yProps(1)} />\r\n          <Tab label=\"Prestamos\" {...a11yProps(2)} />\r\n          <Tab label=\"Devoluciones\" {...a11yProps(3)} />\r\n          <Tab label=\"Reporte\" {...a11yProps(4)} />\r\n          <div className={classes.toolbarButtons}>\r\n              <IconButton\r\n                  aria-label=\"account of current user\"\r\n                  aria-controls=\"menu-appbar\"\r\n                  aria-haspopup=\"true\"\r\n                  color=\"inherit\"\r\n                  onClick={cerrar}\r\n              >\r\n                  <AccountCircle />\r\n                  <p style={{ fontSize: '12px' }}>Cerrar Sesion</p>\r\n              </IconButton>\r\n          </div>\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n        <Libros />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={1}>\r\n        <Alumnos />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={2}>\r\n        <Prestamos/>\r\n      </TabPanel>\r\n      <TabPanel value={value} index={3}>\r\n        <Devoluciones />\r\n      </TabPanel>\r\n      <TabPanel value={value} index={4}>\r\n        <Reporte/>\r\n      </TabPanel>\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react'\r\nimport NavBar from './components/NavBar'\r\nimport axios from 'axios'\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      position: 'absolute',\r\n      left: '50%',\r\n      top: '50%',\r\n      transform: 'translate(-50%, -50%)',\r\n      \r\n    },\r\n  \r\n}));\r\n\r\nexport default function Home() {\r\n    const classes = useStyles();\r\n    const [autorizado, setAutorizado] = useState(false)\r\n\r\n    useEffect(() => {\r\n        renderizadoCondicional()\r\n    }, [])\r\n\r\n\r\n    function renderizadoCondicional() {\r\n        \r\n        axios\r\n            .post(\"http://localhost:5000/api/vigencia\")\r\n            .then(\r\n                (response) => {\r\n                    if (response.status === 200) {\r\n                        setAutorizado(true)\r\n\r\n                    }\r\n\r\n                }\r\n            )\r\n            .catch((err) => {\r\n                if (err.response) {\r\n                    if (err.response.status === 401) {\r\n                        setAutorizado(false)\r\n                        console.log(err.response.data)\r\n                    }\r\n\r\n                } else if (err.request) {\r\n\r\n                } else {\r\n\r\n                }\r\n            })\r\n    }\r\n\r\n    if (autorizado) {\r\n        return (\r\n            <Grid className={classes.fondo}>\r\n                <NavBar />\r\n            </Grid>\r\n        )\r\n    } else {\r\n        return (\r\n        <div className={classes.root}>\r\n        <CircularProgress alignContent='center' size='13rem'  />\r\n        </div>\r\n        )\r\n    }\r\n\r\n\r\n}","import React, { useState, useEffect} from 'react'\nimport {Switch, Route, Redirect } from 'react-router-dom'\nimport Login from './views/Login'\nimport Home from './views/Home'\nimport axios from 'axios'\nimport { BrowserRouter as Router} from 'react-router-dom'\nfunction App() {\n\n  const [autorizado, setAutorizado] = useState(false)\n  const [remember, setRemember] = useState(false)\n\n  useEffect(() =>{\n      renderizadoCondicional()\n  }, [])\n\n\n  function renderizadoCondicional() {\n      \n      axios\n          .post(\"http://localhost:5000/api/vigencia\")\n          .then(\n              (response) =>{\n                  console.log(response.data)\n                  if(response.status === 200){\n                    setAutorizado(true)    \n                    \n                    let recordar = localStorage.getItem('RECORDAR_APP_TALLER_UBB')\n                    if(recordar === 'remember'){\n                        setRemember(true);\n                    }\n                    \n                  }\n                  \n              }\n          )\n          .catch((err) =>{\n              if(err.response){\n                  if(err.response.status === 401){\n                      setAutorizado(false)\n                      console.log(err.response.data)\n                  }\n                  \n              }else if(err.request){\n                \n              }else{\n                \n              }\n          })\n  }\n\n    return (\n      <Router>\n          {remember ? <Redirect to=\"/Home\"/> :\"\"}\n        <Switch>\n            <Route path='/Home' >\n                {autorizado ? <Home/> : <Login />}\n            </Route>\n            <Route path='/'>\n                <Login/>\n            </Route>\n            \n        </Switch>\n      </Router>\n    )\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker'\nimport axios from 'axios'\n\n\naxios.interceptors.request.use(config=>{\n  const token = localStorage.getItem('TOKEN_APP_TALLER')\n  if(token!= null){\n    config.headers.Authorization = 'Bearer ' + token\n  }else{\n    config.headers.Authorization = null\n  }\n  return config\n})\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nserviceWorker.register()"],"sourceRoot":""}